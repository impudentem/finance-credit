var financeClassAppController;financeClassAppController=function(){function t(t,e,i,s,n,o,r,a,c,l){this.$rootScope=t,this.$scope=e,this.$location=s,this.$window=n,this.$timeout=o,this.$route=r,this.$http=a,this.$sceDelegate=c,this.$sce=l,this.$scope.$storage=this.$storage=i.$default({strgData:{amount:5e3}}),this.loading=!0,this.statusReq=!1,this.currentStep=1,this.maxStep=3,this.$scope.$on("$locationChangeStart",function(t){return function(e,i,s,n,o){var r,a,c,l,u;return u=new RegExp(/\d$/),l=new RegExp(/\w+\d?$/),c=u.exec(t.$location.path()),a=l.exec(t.$location.path()),t.currentStep=(null!=c?c.length:void 0)?c[0]:1,"request"!==(r=(null!=a?a.length:void 0)?a[0]:null)&&t.sendEvent(r),"request"===r&&(t.currentStep=r),"request"===r&&t.sendEvent(t.statusReq?r+".success":r+".error"),t.$scope.$$phase||t.$scope.$apply(),t.$timeout(function(){var e,i;if("request"===r)return t.init(),i=$('input[name="email"]'),e=new Inputmask("email",{showMaskOnHover:!1,androidHack:!0}),i.length&&(t.$rootScope.isMobile?(i[0].type="email",i[0].required=!0):e.mask(i[0])),t.$scope.main.loading=!1,$("html, body").animate({scrollTop:0},600)})}}(this)),$(function(t){return function(){return t.init()}}(this))}return t.prototype.sendSubscr=function(t){var e,i,s,n,o;return(e=$("input[name=email]")).length&&(e=e[0]),(null!=(n=e.inputmask)?n.isValid():void 0)&&(null!=(o=e.inputmask)?o.isComplete():void 0)||("function"==typeof e.checkValidity?e.checkValidity():void 0)&&"email"===e.type?(this.$scope.main.loading=!0,this.$scope.$$phase||this.$scope.$apply(),s={email:this.$scope.emailSubscr},i=function(t){return function(e){if(t.$scope.main.loading=!1,t.$scope.main.respMsg=t.msgSubscr(e.data),$(".ui.page.dimmer").dimmer("show"),t.$scope.emailSubscr="",!t.$scope.$$phase)return t.$scope.$apply()}}(this),this.$http.get(this.$rootScope.settings.apiSubscr.url,{params:s}).then(i,i)):!1===("function"==typeof e.checkValidity?e.checkValidity():void 0)&&"function"==typeof e.reportValidity?e.reportValidity():void 0},t.prototype.msgSubscr=function(t){switch(t){case"Some fields are missing.":return"Заполните поле E-mail.";case"Invalid email address.":return"Недействительный адрес электронной почты.";case"Invalid list ID.":return"Недействительный идентификатор подписки.";case"Already subscribed.":return"Вы уже подписаны.";case"You're subscribed!":return"Вы подписаны на наши новости!";default:return"Извините, не удалось подписаться. Пожалуйста, повторите попытку позже!"}},t.prototype.init=function(){return $(".ui.clients .ui.images").slick({infinite:!0,centerMode:!0,autoplay:!0,accessibility:!1,prevArrow:'<button class="slick-prev button icon basic" aria-label="Previous" type="button"></button>',nextArrow:'<button class="slick-next button icon basic" aria-label="Next" type="button"></button>',slideTrack:'<div class="slick-track images"/>',speed:400,slidesToShow:4,slidesToScroll:1,responsive:[{breakpoint:1199,settings:{slidesToShow:3,slidesToScroll:1,arrows:!1}},{breakpoint:1e3,settings:{slidesToShow:2,slidesToScroll:1,arrows:!1}},{breakpoint:768,settings:{autoplay:!1,slidesToShow:1,slidesToScroll:1,arrows:!0}}]}),$(".ui.sidebar").sidebar("attach events",".toc.item").sidebar("setting","dimPage",!0).sidebar("setting","transition","push").sidebar("setting","useLegacy",!0),$(".ui.accordion").accordion(),$(".main.container").visibility({once:!1,onOffScreen:function(t){return $(".menu .computer-only .ui.button").transition("scale in")},onOnScreen:function(t){var e;if(!(e=$(".menu .computer-only .ui.button")).hasClass("hidden"))return e.transition("scale out")}})},t.prototype.titleStep=function(){return"Шаг "+this.currentStep+" из "+this.maxStep},t.prototype.scrollTo=function(t,e){return $("html, body").animate({scrollTop:$(e).offset().top},600)},t.prototype.sendEvent=function(t){return t=Object.get(this.$rootScope.settings.events,t),this.$window.dispatchEvent(t)},t}();