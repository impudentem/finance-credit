var financeAppController;financeAppController=function(){function t(t,e,n,i,s,o,r,a,c,u){this.$rootScope=t,this.$scope=e,this.$location=i,this.$window=s,this.$timeout=o,this.$route=r,this.$http=a,this.$sceDelegate=c,this.$sce=u,this.$scope.$storage=this.$storage=n.$default({strgData:{amount:5e3}}),this.loading=!0,this.statusReq=!1,this.currentStep=1,this.maxStep=3,this.$window.addEventListener("eventWidgetStep1",function(t){return console.log(t)}),this.$window.addEventListener("eventWidgetStep2",function(t){return console.log(t)}),this.$window.addEventListener("eventWidgetStep3",function(t){return console.log(t)}),this.$window.addEventListener("eventWidgetSuccess",function(t){return console.log(t)}),this.$window.addEventListener("eventWidgetError",function(t){return console.log(t)}),this.$scope.$on("$locationChangeStart",function(t){return function(e,n,i,s,o){var r,a,c,u,l;return l=new RegExp(/\d$/),u=new RegExp(/\w+\d?$/),c=l.exec(t.$location.path()),a=u.exec(t.$location.path()),t.currentStep=(null!=c?c.length:void 0)?c[0]:1,"request"!==(r=(null!=a?a.length:void 0)?a[0]:null)&&t.sendEvent(r),"request"===r&&(t.currentStep=r),"request"===r&&t.sendEvent(t.statusReq?r+".success":r+".error"),t.$scope.$$phase||t.$scope.$apply(),console.log(t.$location.path(),t.currentStep,r),t.$timeout(function(){if(1===t.currentStep&&t.init(),"request"===r&&$("html, body").animate({scrollTop:0},600),"request"===r)return $('input[name="email"]').inputmask({alias:"email",showMaskOnHover:!1,oncomplete:function(e){return t.$scope.emailSubscr=e.target.value}}),t.$scope.main.loading=!1})}}(this)),$(function(t){return function(){return t.init()}}(this))}return t.prototype.sendSubscr=function(t){var e,n,i,s,o;if((e=$("input[name=email]")).length&&(e=e[0]),(null!=(s=e.inputmask)?s.isValid():void 0)&&(null!=(o=e.inputmask)?o.isComplete():void 0))return this.$scope.main.loading=!0,this.$scope.$$phase||this.$scope.$apply(),i={email:this.$scope.emailSubscr},n=function(t){return function(e){if(t.$scope.main.loading=!1,t.$scope.main.respMsg=t.msgSubscr(e.data),$(".ui.page.dimmer").dimmer("show"),t.$scope.emailSubscr="",!t.$scope.$$phase)return t.$scope.$apply()}}(this),this.$http.get(this.$rootScope.settings.apiSubscr.url,{params:i}).then(n,n)},t.prototype.msgSubscr=function(t){switch(t){case"Some fields are missing.":return"Заполните поле E-mail.";case"Invalid email address.":return"Недействительный адрес электронной почты.";case"Invalid list ID.":return"Недействительный идентификатор подписки.";case"Already subscribed.":return"Вы уже подписаны.";case"You're subscribed!":return"Вы подписаны на наши новости!";default:return"Извините, не удалось подписаться. Пожалуйста, повторите попытку позже!"}},t.prototype.init=function(){return $(".ui.clients .ui.images").slick({infinite:!0,centerMode:!0,autoplay:!0,accessibility:!1,prevArrow:'<button class="slick-prev button icon basic" aria-label="Previous" type="button"></button>',nextArrow:'<button class="slick-next button icon basic" aria-label="Next" type="button"></button>',slideTrack:'<div class="slick-track images"/>',speed:400,slidesToShow:4,slidesToScroll:1,responsive:[{breakpoint:1199,settings:{slidesToShow:3,slidesToScroll:1,arrows:!1}},{breakpoint:1e3,settings:{slidesToShow:2,slidesToScroll:1,arrows:!1}},{breakpoint:768,settings:{autoplay:!1,slidesToShow:1,slidesToScroll:1,arrows:!0}}]}),$(".ui.sidebar").sidebar("attach events",".toc.item").sidebar("setting","dimPage",!0).sidebar("setting","transition","push").sidebar("setting","useLegacy",!0),$(".ui.accordion").accordion(),$(".main.container").visibility({once:!1,onOffScreen:function(t){return $(".menu .computer-only .ui.button").transition("scale in")},onOnScreen:function(t){var e;if(!(e=$(".menu .computer-only .ui.button")).hasClass("hidden"))return e.transition("scale out")}})},t.prototype.titleStep=function(){return"Шаг "+this.currentStep+" из "+this.maxStep},t.prototype.scrollTo=function(t,e){return $("html, body").animate({scrollTop:$(e).offset().top},600)},t.prototype.sendEvent=function(t){return console.log(t),t=Object.get(this.$rootScope.settings.events,t),this.$window.dispatchEvent(t)},t}();