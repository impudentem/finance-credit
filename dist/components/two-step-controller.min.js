var twoStepController;twoStepController=function(){function t(t,e,n,r,i,o,a,s,u){this.$http=t,this.$scope=e,this.$rootScope=n,this.$sce=r,this.$location=i,this.$element=o,this.$sceDelegate=a,this.$filter=s,this.$timeout=u,this.calendar={},this.$scope.$watch(function(t){return function(e,n,r){return t.$scope.main.currentStep}}(this),function(t){return function(e,n,r){return t.$iElement=$(t.$element),2===(e=parseInt(e))&&t.init(),!1}}(this))}return t.prototype.card_hover=function(t,e){return this.$scope.cards_two.card_hover="mouseover"===t.type?e:""},t.prototype.init=function(){var t,e;return e=new Date,(t=new Date).setFullYear(t.getFullYear()-18),e.setFullYear(e.getFullYear()-90),this.initCal=function(n){return function(){return n.calendar=n.$iElement.find(".ui.calendar").calendar({type:"date",firstDayOfWeek:1,ampm:!1,minDate:e,maxDate:t,disableMinute:!0,className:{prevIcon:"open icon left",nextIcon:"open icon right"},text:{days:["В","П","В","С","Ч","П","С"],months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthsShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],today:"Сегодня",now:"Сейчас",am:"AM",pm:"PM"},onChange:function(t,e,r){if(n.$scope.$storage.strgData.bday=e,!n.$scope.$$phase)return n.$scope.$apply()},formatter:{date:function(t,e){return t?t.toLocaleString().split(",")[0]:""}}}),n.initMask()}}(this),this.$timeout(function(t){return function(){return t.initCal()}}(this))},t.prototype.initMask=function(){var t;return t={mask:"+38 (\\099) 999-99-99",greedy:!1,showMaskOnHover:!1,oncomplete:function(t){return function(e){return t.$scope.$storage.strgData.phone=e.target.value}}(this)},$('input[name="phone"]').inputmask(t),this.$scope.main.loading=!1,$(this.$element).find("form").form({inline:!0,on:"blur",fields:{fullname:{identifier:"fullname",rules:[{type:"regExp[/^[а-яёієыї\\-\\']*\\s[а-яёієыї\\-\\']*\\s[а-яёієыї\\-\\']*$/i]",prompt:"Введены недопустимые символы"}]},bday:{identifier:"bday",rules:[{type:"regExp[/^\\d{2}[\\.]\\d{2}[\\.]\\d{4}$/i]",prompt:"Неправильная дата рождения"}]},phone:{identifier:"phone",rules:[{type:"empty",prompt:"Неправильный номер телефона"}]},aggree:{identifier:"aggree",rules:[{type:"checked",prompt:"Так мы не сможем обработать Ваш запрос"}]}},onSuccess:function(t){return function(e,n){return t.$scope.main.loading=!0,t.$location.path("/s3"),!1}}(this)})},t}();