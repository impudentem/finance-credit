 /*
 * # Semantic UI - 2.2.11
 * https://github.com/Semantic-Org/Semantic-UI
 * http://www.semantic-ui.com/
 *
 * Copyright 2014 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
!function(e,t){"use strict";function n(e,t){if(o(e)){t=t||[];for(var n=0,i=e.length;n<i;n++)t[n]=e[n]}else if(s(e)){t=t||{};for(var r in e)"$"===r.charAt(0)&&"$"===r.charAt(1)||(t[r]=e[r])}return t||e}function i(e){u&&e.get("$route")}function r(e,n,i){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(r,a,o,s,l){function c(){h&&(i.cancel(h),h=null),p&&(p.$destroy(),p=null),f&&((h=i.leave(f)).done(function(e){!1!==e&&(h=null)}),f=null)}function u(){var o=e.current&&e.current.locals,s=o&&o.$template;if(t.isDefined(s)){var u=r.$new(),h=e.current,g=l(u,function(e){i.enter(e,null,f||a).done(function(e){!1===e||!t.isDefined(d)||d&&!r.$eval(d)||n()}),c()});f=g,(p=h.scope=u).$emit("$viewContentLoaded"),p.$eval(m)}else c()}var p,f,h,d=o.autoscroll,m=o.onload||"";r.$on("$routeChangeSuccess",u),u()}}}function a(e,t,n){return{restrict:"ECA",priority:-400,link:function(i,r){var a=n.current,o=a.locals;r.html(o.$template);var s=e(r.contents());if(a.controller){o.$scope=i;var l=t(a.controller,o);a.controllerAs&&(i[a.controllerAs]=l),r.data("$ngControllerController",l),r.children().data("$ngControllerController",l)}i[a.resolveAs||"$resolve"]=o,s(i)}}}var o,s,l,c,u,p=t.module("ngRoute",[]).info({angularVersion:"1.6.5"}).provider("$route",function(){function e(e,n){return t.extend(Object.create(e),n)}function i(e,t){var n=t.caseInsensitiveMatch,i={originalPath:e,regexp:e},r=i.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[?*])?/g,function(e,t,n,i){var a="?"===i||"*?"===i?"?":null,o="*"===i||"*?"===i?"*":null;return r.push({name:n,optional:!!a}),t=t||"",(a?"":t)+"(?:"+(a?t:"")+(o&&"(.+?)"||"([^/]+)")+(a||"")+")"+(a||"")}).replace(/([/$*])/g,"\\$1"),i.regexp=new RegExp("^"+e+"$",n?"i":""),i}o=t.isArray,s=t.isObject,l=t.isDefined,c=t.noop;var r={};this.when=function(e,a){var o=n(a);if(t.isUndefined(o.reloadOnSearch)&&(o.reloadOnSearch=!0),t.isUndefined(o.caseInsensitiveMatch)&&(o.caseInsensitiveMatch=this.caseInsensitiveMatch),r[e]=t.extend(o,e&&i(e,o)),e){var s="/"===e[e.length-1]?e.substr(0,e.length-1):e+"/";r[s]=t.extend({redirectTo:e},i(s,o))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(e){return"string"==typeof e&&(e={redirectTo:e}),this.when(null,e),this},u=!0,this.eagerInstantiationEnabled=function(e){return l(e)?(u=e,this):u},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce","$browser",function(n,i,a,o,s,l,u,p){function h(e,t){var n=t.keys,i={};if(!t.regexp)return null;var r=t.regexp.exec(e);if(!r)return null;for(var a=1,o=r.length;a<o;++a){var s=n[a-1],l=r[a];s&&l&&(i[s.name]=l)}return i}function d(e){var i=S.current;w=$(),(x=w&&i&&w.$$route===i.$$route&&t.equals(w.pathParams,i.pathParams)&&!w.reloadOnSearch&&!C)||!i&&!w||n.$broadcast("$routeChangeStart",w,i).defaultPrevented&&e&&e.preventDefault()}function m(){var e=S.current,i=w;if(x)e.params=i.params,t.copy(e.params,a),n.$broadcast("$routeUpdate",e);else if(i||e){C=!1,S.current=i;var r=o.resolve(i);p.$$incOutstandingRequestCount(),r.then(g).then(v).then(function(o){return o&&r.then(k).then(function(r){i===S.current&&(i&&(i.locals=r,t.copy(i.params,a)),n.$broadcast("$routeChangeSuccess",i,e))})}).catch(function(t){i===S.current&&n.$broadcast("$routeChangeError",i,e,t)}).finally(function(){p.$$completeOutstandingRequest(c)})}}function g(e){var n={route:e,hasRedirection:!1};if(e)if(e.redirectTo)if(t.isString(e.redirectTo))n.path=b(e.redirectTo,e.params),n.search=e.params,n.hasRedirection=!0;else{var r=i.path(),a=i.search(),l=e.redirectTo(e.pathParams,r,a);t.isDefined(l)&&(n.url=l,n.hasRedirection=!0)}else if(e.resolveRedirectTo)return o.resolve(s.invoke(e.resolveRedirectTo)).then(function(e){return t.isDefined(e)&&(n.url=e,n.hasRedirection=!0),n});return n}function v(e){var t=!0;if(e.route!==S.current)t=!1;else if(e.hasRedirection){var n=i.url(),r=e.url;r?i.url(r).replace():r=i.path(e.path).search(e.search).replace().url(),r!==n&&(t=!1)}return t}function k(e){if(e){var n=t.extend({},e.resolve);t.forEach(n,function(e,i){n[i]=t.isString(e)?s.get(e):s.invoke(e,null,null,i)});var i=y(e);return t.isDefined(i)&&(n.$template=i),o.all(n)}}function y(e){var n,i;return t.isDefined(n=e.template)?t.isFunction(n)&&(n=n(e.params)):t.isDefined(i=e.templateUrl)&&(t.isFunction(i)&&(i=i(e.params)),t.isDefined(i)&&(e.loadedTemplateUrl=u.valueOf(i),n=l(i))),n}function $(){var n,a;return t.forEach(r,function(r,o){!a&&(n=h(i.path(),r))&&((a=e(r,{params:t.extend({},i.search(),n),pathParams:n})).$$route=r)}),a||r[null]&&e(r[null],{params:{},pathParams:{}})}function b(e,n){var i=[];return t.forEach((e||"").split(":"),function(e,t){if(0===t)i.push(e);else{var r=e.match(/(\w+)(?:[?*])?(.*)/),a=r[1];i.push(n[a]),i.push(r[2]||""),delete n[a]}}),i.join("")}var w,x,C=!1,S={routes:r,reload:function(){C=!0;var e={defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0,C=!1}};n.$evalAsync(function(){d(e),e.defaultPrevented||m()})},updateParams:function(e){if(!this.current||!this.current.$$route)throw f("norout","Tried updating route when with no current route");e=t.extend({},this.current.params,e),i.path(b(this.current.$$route.originalPath,e)),i.search(e)}};return n.$on("$locationChangeStart",d),n.$on("$locationChangeSuccess",m),S}]}).run(i),f=t.$$minErr("ngRoute");i.$inject=["$injector"],p.provider("$routeParams",function(){this.$get=function(){return{}}}),p.directive("ngView",r),p.directive("ngView",a),r.$inject=["$route","$anchorScroll","$animate"],a.$inject=["$compile","$controller","$route"]}(window,window.angular),function(e,t,n){"use strict";var i={routes:{},debug:!1},r=function(e,n){var r=this,a=function(e){var n={};return t.forEach(e,function(e,t){var i=function(){return e.controller};i.$inject=[];var r=function(t){return t.get(e.template)};r.$inject=["$templateCache"],n[t]={controllerProvider:i,templateProvider:r}}),n},o=function(i,r,s){var l={url:"/"+r};if(i.params){var c={};t.forEach(i.params,function(e,t){l.url+="/:"+t,c[t]={value:e},null===c[t].value&&(c[t].squash=!0)}),l.params=c}if(i.abstract&&(l.abstract=i.abstract),i.views&&(l.views=a(i.views)),e.state(s,l),i.default){var u=function(e){e.go(s)};u.$inject=["$state"],n.otherwise(function(e){e.invoke(u)})}i.child&&t.forEach(i.child,function(e,t){o(e,t,s+"."+t)})},s=function(e,n){return{start:function(){t.forEach(i.routes,function(e,t){o(e,t,t)})}}};s.$inject=["$injector","$templateCache"],r.$get=s,r.config=function(e){t.forEach(e,function(t,n){i[n]=e[n]})}};r.$inject=["$stateProvider","$urlRouterProvider"],t.module("routes.provider",["ui.router"]).provider("$routes",r)}(window,window.angular),function(e,t){"use strict";function n(e){var t=[];return p(t,l).chars(e),t.join("")}var i,r,a,o,s,l,c,u,p,f=t.$$minErr("$sanitize");t.module("ngSanitize",[]).provider("$sanitize",function(){function n(e,t){var n,i={},r=e.split(",");for(n=0;n<r.length;n++)i[t?s(r[n]):r[n]]=!0;return i}function h(e){for(var t={},n=0,i=e.length;n<i;n++){var r=e[n];t[r.name]=r.value}return t}function d(e){return e.replace(/&/g,"&amp;").replace(k,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(y,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function m(t){for(;t;){if(t.nodeType===e.Node.ELEMENT_NODE)for(var n=t.attributes,i=0,r=n.length;i<r;i++){var a=n[i],o=a.name.toLowerCase();"xmlns:ns1"!==o&&0!==o.lastIndexOf("ns1:",0)||(t.removeAttributeNode(a),i--,r--)}var s=t.firstChild;s&&m(s),t=g("nextSibling",t)}}function g(e,t){var n=t[e];if(n&&c.call(t,n))throw f("elclob","Failed to sanitize html because the element is clobbered: {0}",t.outerHTML||t.outerText);return n}var v=!1;this.$get=["$$sanitizeUri",function(e){return v&&r(A,E),function(t){var n=[];return u(t,p(n,function(t,n){return!/^unsafe:/.test(e(t,n))})),n.join("")}}],this.enableSvg=function(e){return o(e)?(v=e,this):v},i=t.bind,r=t.extend,a=t.forEach,o=t.isDefined,s=t.lowercase,l=t.noop,u=function(e,t){null===e||void 0===e?e="":"string"!=typeof e&&(e=""+e);var n=T(e);if(!n)return"";var i=5;do{if(0===i)throw f("uinput","Failed to sanitize html because the input is unstable");i--,e=n.innerHTML,n=T(e)}while(e!==n.innerHTML);for(var r=n.firstChild;r;){switch(r.nodeType){case 1:t.start(r.nodeName.toLowerCase(),h(r.attributes));break;case 3:t.chars(r.textContent)}var a;if(!((a=r.firstChild)||(1===r.nodeType&&t.end(r.nodeName.toLowerCase()),a=g("nextSibling",r))))for(;null==a&&(r=g("parentNode",r))!==n;)a=g("nextSibling",r),1===r.nodeType&&t.end(r.nodeName.toLowerCase());r=a}for(;r=n.firstChild;)n.removeChild(r)},p=function(e,t){var n=!1,r=i(e,e.push);return{start:function(e,i){e=s(e),!n&&P[e]&&(n=e),n||!0!==A[e]||(r("<"),r(e),a(i,function(n,i){var a=s(i),o="img"===e&&"src"===a||"background"===a;!0!==_[a]||!0===D[a]&&!t(n,o)||(r(" "),r(i),r('="'),r(d(n)),r('"'))}),r(">"))},end:function(e){e=s(e),n||!0!==A[e]||!0===$[e]||(r("</"),r(e),r(">")),e==n&&(n=!1)},chars:function(e){n||r(d(e))}}},c=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))};var k=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,y=/([^#-~ |!])/g,$=n("area,br,col,hr,img,wbr"),b=n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),w=n("rp,rt"),x=r({},w,b),C=r({},b,n("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),S=r({},w,n("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),E=n("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),P=n("script,style"),A=r({},$,C,S,x),D=n("background,cite,href,longdesc,src,xlink:href"),M=n("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),O=n("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),_=r({},D,O,M),T=function(e,t){var n;if(!t||!t.implementation)throw f("noinert","Can't create an inert html document");var i=((n=t.implementation.createHTMLDocument("inert")).documentElement||n.getDocumentElement()).querySelector("body");return i.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',i.querySelector("svg")?(i.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',i.querySelector("svg img")?function(t){t="<remove></remove>"+t;try{var n=(new e.DOMParser).parseFromString(t,"text/html").body;return n.firstChild.remove(),n}catch(e){return}}:function(e){return i.innerHTML=e,t.documentMode&&m(i),i}):function(t){t="<remove></remove>"+t;try{t=encodeURI(t)}catch(e){return}var n=new e.XMLHttpRequest;n.responseType="document",n.open("GET","data:text/html;charset=utf-8,"+t,!1),n.send(null);var i=n.response.body;return i.firstChild.remove(),i}}(e,e.document)}).info({angularVersion:"1.6.5"}),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var i=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,r=/^mailto:/i,a=t.$$minErr("linky"),o=t.isDefined,s=t.isFunction,l=t.isObject,c=t.isString;return function(t,u,p){function f(e){e&&k.push(n(e))}if(null==t||""===t)return t;if(!c(t))throw a("notstring","Expected string but received: {0}",t);for(var h,d,m,g=s(p)?p:l(p)?function(){return p}:function(){return{}},v=t,k=[];h=v.match(i);)d=h[0],h[2]||h[4]||(d=(h[3]?"http://":"mailto:")+d),m=h.index,f(v.substr(0,m)),function(e,t){var n,i=g(e);k.push("<a ");for(n in i)k.push(n+'="'+i[n]+'" ');!o(u)||"target"in i||k.push('target="',u,'" '),k.push('href="',e.replace(/"/g,"&quot;"),'">'),f(t),k.push("</a>")}(d,h[0].replace(r,"")),v=v.substring(m+h[0].length);return f(v),e(k.join(""))}}])}(window,window.angular),function(e,t){"use strict";"function"==typeof define&&define.amd?define(["angular"],t):e.hasOwnProperty("angular")?t(e.angular):"object"==typeof exports&&(module.exports=t(require("angular")))}(this,function(e){"use strict";function t(e,t){var n;try{n=e[t]}catch(e){n=!1}if(n){var i="__"+Math.round(1e7*Math.random());try{e[t].setItem(i,i),e[t].removeItem(i,i)}catch(e){n=!1}}return n}function n(n){var i=t(window,n);return function(){var r="ngStorage-";this.setKeyPrefix=function(e){if("string"!=typeof e)throw new TypeError("[ngStorage] - "+n+"Provider.setKeyPrefix() expects a String.");r=e};var a=e.toJson,o=e.fromJson;this.setSerializer=function(e){if("function"!=typeof e)throw new TypeError("[ngStorage] - "+n+"Provider.setSerializer expects a function.");a=e},this.setDeserializer=function(e){if("function"!=typeof e)throw new TypeError("[ngStorage] - "+n+"Provider.setDeserializer expects a function.");o=e},this.supported=function(){return!!i},this.get=function(e){return i&&o(i.getItem(r+e))},this.set=function(e,t){return i&&i.setItem(r+e,a(t))},this.remove=function(e){i&&i.removeItem(r+e)},this.$get=["$rootScope","$window","$log","$timeout","$document",function(i,s,l,c,u){var p,f,h=r.length,d=t(s,n),m=d||(l.warn("This browser does not support Web Storage!"),{setItem:e.noop,getItem:e.noop,removeItem:e.noop}),g={$default:function(t){for(var n in t)e.isDefined(g[n])||(g[n]=e.copy(t[n]));return g.$sync(),g},$reset:function(e){for(var t in g)"$"===t[0]||delete g[t]&&m.removeItem(r+t);return g.$default(e)},$sync:function(){for(var e,t=0,n=m.length;t<n;t++)(e=m.key(t))&&r===e.slice(0,h)&&(g[e.slice(h)]=o(m.getItem(e)))},$apply:function(){var t;if(f=null,!e.equals(g,p)){t=e.copy(p),e.forEach(g,function(n,i){e.isDefined(n)&&"$"!==i[0]&&(m.setItem(r+i,a(n)),delete t[i])});for(var n in t)m.removeItem(r+n);p=e.copy(g)}},$supported:function(){return!!d}};return g.$sync(),p=e.copy(g),i.$watch(function(){f||(f=c(g.$apply,100,!1))}),s.addEventListener&&s.addEventListener("storage",function(t){if(t.key){var n=u[0];n.hasFocus&&n.hasFocus()||r!==t.key.slice(0,h)||(t.newValue?g[t.key.slice(h)]=o(t.newValue):delete g[t.key.slice(h)],p=e.copy(g),i.$apply())}}),s.addEventListener&&s.addEventListener("beforeunload",function(){g.$apply()}),g}]}}return(e=e&&e.module?e:window.angular).module("ngStorage",[]).provider("$localStorage",n("localStorage")).provider("$sessionStorage",n("sessionStorage"))}),function(){"use strict";angular.module("ngMask",[])}(),function(){"use strict";angular.module("ngMask").directive("mask",["$log","$timeout","MaskService",function(e,t,n){return{restrict:"A",require:"ngModel",compile:function(i,r){function a(e){"number"==typeof e&&(t.cancel(o),o=t(function(){var t=e+1,n=i[0];if(n.setSelectionRange)n.focus(),n.setSelectionRange(e,t);else if(n.createTextRange){var r=n.createTextRange();r.collapse(!0),r.moveEnd("character",t),r.moveStart("character",e),r.select()}}))}{if(r.mask&&r.ngModel){var o,s,l=n.create();return{pre:function(e,t,n,i){s=l.generateRegex({mask:n.mask,repeat:n.repeat||n.maskRepeat,clean:"true"===(n.clean||n.maskClean),limit:"true"===(n.limit||n.maskLimit||"true"),restrict:n.restrict||n.maskRestrict||"select",validate:"true"===(n.validate||n.maskValidate||"true"),model:n.ngModel,value:n.ngValue})},post:function(n,i,r,o){function c(t){var n=t;p=l.getOptions(),t=t||"";var i=l.getViewValue(t),r=p.maskWithoutOptionals||"",s=i.withDivisors(!0),c=i.withoutDivisors(!0);try{var u=l.getRegex(s.length-1),f=l.getRegex(r.length-1),h=u.test(s)||f.test(s),d=t.length-s.length==1,m=r.length-s.length>0;if("accept"!==p.restrict)if("select"!==p.restrict||h&&!d)"reject"!==p.restrict||h||(s=(i=l.removeWrongPositions(s)).withDivisors(!0),c=i.withoutDivisors(!0));else{var g=t[t.length-1];g!==s[s.length-1]&&m&&(s+=g);var v=l.getFirstWrongPosition(s);angular.isDefined(v)&&a(v)}p.limit||(s=i.withDivisors(!1),c=i.withoutDivisors(!1)),p.validate&&o.$dirty&&(f.test(s)||o.$isEmpty(n)?o.$setValidity("mask",!0):o.$setValidity("mask",!1)),t!==s&&(o.$setViewValue(angular.copy(s),"input"),o.$render())}catch(t){throw e.error("[mask - parseViewValue]"),t}return p.clean?c:s}var u,p=l.getOptions(),f=function(){c(),o.$parsers.push(c),p.value&&n.$evalAsync(function(e){o.$setViewValue(angular.copy(p.value),"input"),o.$render()})};i.on("click input paste keyup",function(){u=t(function(){t.cancel(u),c(i.val()),n.$apply()},100)});var h=n.$watch(r.ngModel,function(e,t){angular.isDefined(e)&&(c(e),h())});n.$watch(function(){return[r.mask]},function(){(s=l.generateRegex({mask:r.mask,repeat:r.repeat||r.maskRepeat,clean:"true"===(r.clean||r.maskClean),limit:"true"===(r.limit||r.maskLimit||"true"),restrict:r.restrict||r.maskRestrict||"select",validate:"true"===(r.validate||r.maskValidate||"true"),model:r.ngModel,value:r.ngValue}).then(function(){i.triggerHandler("click")})).then(f)},!0),s.then(f)}}}e.info("Mask and ng-model attributes are required!")}}}}])}(),function(){"use strict";angular.module("ngMask").factory("MaskService",["$q","OptionalService","UtilService",function(e,t,n){return{create:function(){function i(e,t){var n;try{var i=m[e],r=C[i],a=o(e);r?n="("+r.source+")":(s(e)||(b.push(e),w[e]=i),n="(\\"+i+")")}catch(e){throw e}return(a||t)&&(n+="?"),new RegExp(n)}function r(e,t){var n,a;try{var s=i(e,t);n=s;var l=o(e),c=s.source;l&&e+1<g&&(c+=r(e+1,!0).elementOptionalRegex().source),a=new RegExp(c)}catch(e){throw e}return{elementRegex:function(){return n},elementOptionalRegex:function(){return a}}}function a(e){var t;try{t=x[e]?x[e].source:""}catch(e){throw e}return new RegExp("^"+t+"$")}function o(e){return n.inArray(e,k)}function s(e){return n.inArray(e,b)}function l(){function e(e,t){return e-t}for(var t=b.sort(e),n=k.sort(e),i=0;i<t.length;i++)for(var r=t[i],a=1;a<=n.length&&!(n[a-1]>=r);a++)y[r]?y[r]=y[r].concat(r-a):y[r]=[r-a],w[r-a]=w[r]}function c(e){e=e.toString();try{if(b.length>0&&e){for(var t=Object.keys(w),i=[],r=t.length-1;r>=0;r--){var a=w[t[r]];a&&i.push(a)}i=n.uniqueArray(i);var o=new RegExp("[\\"+i.join("\\")+"]","g");return e.replace(o,"")}return e}catch(e){throw e}}function u(e,t){function i(e,t){for(var n=t,i=0;i<e.length;i++){var r=e[i];r<n.length&&n.splice(r,0,w[r])}return n}var r=e,a=b.filter(function(e){var i=Object.keys(y).map(function(e){return parseInt(e)});return!n.inArray(e,t)&&!n.inArray(e,i)});return angular.isArray(e)&&angular.isArray(t)?(r=i(a,r),r=i(t,r)):r}function p(e){var t=e.split(""),i=!0;if(k.length>0){for(var r=[],o=Object.keys(y),s=0;s<o.length;s++){var l=y[o[s]];r.push(l)}for(0===$.length&&n.lazyProduct(r,function(){$.push(Array.prototype.slice.call(arguments))}),s=$.length-1;s>=0;s--){var c=angular.copy(t),p=(c=u(c,$[s])).join("");if(a(m.length-1).test(p)){i=!1,t=c;break}}}return i&&(t=u(t,b)),t.join("")}function f(e){try{var t=c(e),n=p(t);return{withDivisors:function(e){return e?n.substr(0,g):n},withoutDivisors:function(e){return e?t.substr(0,v):t}}}catch(e){throw e}}function h(e,t){var n=[];if(!e)return 0;for(var i=0;i<e.length;i++){var r=a(i),o=e.substr(0,i+1);if(r&&!r.test(o)&&(n.push(i),t))break}return n}var d,m,g=0,v=0,k=[],y={},$=[],b=[],w={},x=[],C={9:/[0-9]/,8:/[0-8]/,7:/[0-7]/,6:/[0-6]/,5:/[0-5]/,4:/[0-4]/,3:/[0-3]/,2:/[0-2]/,1:/[0-1]/,0:/[0]/,"*":/./,w:/\w/,W:/\W/,d:/\d/,D:/\D/,s:/\s/,S:/\S/,b:/\b/,A:/[A-Z]/,a:/[a-z]/,Z:/[A-ZÇÀÁÂÃÈÉÊẼÌÍÎĨÒÓÔÕÙÚÛŨ]/,z:/[a-zçáàãâéèêẽíìĩîóòôõúùũüû]/,"@":/[a-zA-Z]/,"#":/[a-zA-ZçáàãâéèêẽíìĩîóòôõúùũüûÇÀÁÂÃÈÉÊẼÌÍÎĨÒÓÔÕÙÚÛŨ]/,"%":/[0-9a-zA-ZçáàãâéèêẽíìĩîóòôõúùũüûÇÀÁÂÃÈÉÊẼÌÍÎĨÒÓÔÕÙÚÛŨ]/};return{getViewValue:f,generateRegex:function(n){var i=e.defer();m=null,g=0,v=0,k=[],y={},$=[],b=[],w={},x=[],d=n;try{var a=n.mask,o=n.repeat;if(!a)return;o&&(a=Array(parseInt(o)+1).join(a)),k=t.getOptionals(a).fromMaskWithoutOptionals(),d.maskWithoutOptionals=m=t.removeOptionals(a),g=m.length;for(var s,u=0;u<g;u++){var p=r(u),f=p.elementRegex(),h=p.elementOptionalRegex(),C=s?s.source+h.source:h.source;C=new RegExp(C),s=s?s.source+f.source:f.source,s=new RegExp(s),x.push(C)}l(),v=c(m).length,i.resolve({options:d,divisors:b,divisorElements:w,optionalIndexes:k,optionalDivisors:y,optionalDivisorsCombinations:$})}catch(e){throw i.reject(e),e}return i.promise},getRegex:a,getOptions:function(){return d},removeDivisors:c,getFirstWrongPosition:function(e){return h(e,!0)[0]},removeWrongPositions:function(e){for(var t=h(e,!1),n=e,i=0;i<t.length;i++){var r=t[i],a=e.split("");a.splice(r,1),n=a.join("")}return f(n)}}}}}])}(),function(){"use strict";angular.module("ngMask").factory("OptionalService",[function(){function e(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]-n);return t}return{removeOptionals:function(e){var t;try{t=e.replace(/\?/g,"")}catch(e){throw e}return t},getOptionals:function(t){var n=[];try{for(var i=/\?/g,r=[];null!=(r=i.exec(t));)n.push(r.index-1)}catch(e){throw e}return{fromMask:function(){return n},fromMaskWithoutOptionals:function(){return e(n)}}}}}])}(),function(){"use strict";angular.module("ngMask").factory("UtilService",[function(){return{lazyProduct:function(e,t,n){function i(s){var l=e[s],c=o[s];if(s===a)for(u=0;u<c;++u)r[s]=l[u],t.apply(n,r);else for(var u=0;u<c;++u)r[s]=l[u],i(s+1);r.pop()}n||(n=this);for(var r=[],a=e.length-1,o=[],s=e.length;s--;)o[s]=e[s].length;i(0)},inArray:function(e,t){var n;try{n=t.indexOf(e)>-1}catch(e){throw e}return n},uniqueArray:function(e){for(var t={},n=[],i=0,r=e.length;i<r;++i)t.hasOwnProperty(e[i])||(n.push(e[i]),t[e[i]]=1);return n}}}])}();var CustomEvent,ce,e;Date.prototype.getDateAdd=function(e,t,n){var i,r;switch(r=new Date(e),i=function(){if(r.getDate()!==e.getDate())return r.setDate(0)},t.toLowerCase()){case"year":r.setFullYear(r.getFullYear()+n),i();break;case"quarter":r.setMonth(r.getMonth()+3*n),i();break;case"month":r.setMonth(r.getMonth()+n),i();break;case"week":r.setDate(r.getDate()+7*n);break;case"day":r.setDate(r.getDate()+n);break;case"hour":r.setTime(r.getTime()+36e5*n);break;case"minute":r.setTime(r.getTime()+6e4*n);break;case"second":r.setTime(r.getTime()+1e3*n);break;default:r=void 0}return r},Object.size=function(e){return Object.keys(e).length},Object.get=function(e,t,n){var i,r,a,o;for(null==n&&(n=e),i=0,a=(o=t.split(".")).length;i<a;i++)n=void 0!==n[r=o[i]]?n[r]:void 0;return n};try{if((ce=new window.CustomEvent("test")).preventDefault(),!0!==ce.defaultPrevented)throw new Error("Could not prevent default")}catch(t){e=t,(CustomEvent=function(t,n){var i,r;return n=n||{bubbles:!1,cancelable:!1,detail:void 0},(i=document.createEvent("CustomEvent")).initCustomEvent(t,n.bubbles,n.cancelable,n.detail),r=i.preventDefault,i.preventDefault=function(){r.call(this);try{return Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(t){return e=t,this.defaultPrevented=!0}},i}).prototype=window.Event.prototype,window.CustomEvent=CustomEvent}!function(e){"function"==typeof define&&define.amd?define(["./dependencyLibs/inputmask.dependencyLib","./global/window","./global/document"],e):"object"==typeof exports?module.exports=e(require("./dependencyLibs/inputmask.dependencyLib"),require("./global/window"),require("./global/document")):window.Inputmask=e(window.dependencyLib||jQuery,window,document)}(function(e,t,n,i){function r(t,n,o){return this instanceof r?(this.el=i,this.events={},this.maskset=i,this.refreshValue=!1,void(!0!==o&&(e.isPlainObject(t)?n=t:(n=n||{},n.alias=t),this.opts=e.extend(!0,{},this.defaults,n),this.noMasksCache=n&&n.definitions!==i,this.userOptions=n||{},this.isRTL=this.opts.numericInput,a(this.opts.alias,n,this.opts)))):new r(t,n,o)}function a(t,n,o){var s=r.prototype.aliases[t];return s?(s.alias&&a(s.alias,i,o),e.extend(!0,o,s),e.extend(!0,o,n),!0):(null===o.mask&&(o.mask=t),!1)}function o(t,n){function a(t,a,o){var s=!1;if(null!==t&&""!==t||((s=null!==o.regex)?(t=o.regex,t=t.replace(/^(\^)(.*)(\$)$/,"$2")):(s=!0,t=".*")),1===t.length&&!1===o.greedy&&0!==o.repeat&&(o.placeholder=""),o.repeat>0||"*"===o.repeat||"+"===o.repeat){var l="*"===o.repeat?0:"+"===o.repeat?1:o.repeat;t=o.groupmarker.start+t+o.groupmarker.end+o.quantifiermarker.start+l+","+o.repeat+o.quantifiermarker.end}var c,u=s?"regex_"+o.regex:o.numericInput?t.split("").reverse().join(""):t;return r.prototype.masksCache[u]===i||!0===n?(c={mask:t,maskToken:r.prototype.analyseMask(t,s,o),validPositions:{},_buffer:i,buffer:i,tests:{},metadata:a,maskLength:i},!0!==n&&(r.prototype.masksCache[u]=c,c=e.extend(!0,{},r.prototype.masksCache[u]))):c=e.extend(!0,{},r.prototype.masksCache[u]),c}if(e.isFunction(t.mask)&&(t.mask=t.mask(t)),e.isArray(t.mask)){if(t.mask.length>1){t.keepStatic=null===t.keepStatic||t.keepStatic;var o=t.groupmarker.start;return e.each(t.numericInput?t.mask.reverse():t.mask,function(n,r){o.length>1&&(o+=t.groupmarker.end+t.alternatormarker+t.groupmarker.start),o+=r.mask===i||e.isFunction(r.mask)?r:r.mask}),o+=t.groupmarker.end,a(o,t.mask,t)}t.mask=t.mask.pop()}return t.mask&&t.mask.mask!==i&&!e.isFunction(t.mask.mask)?a(t.mask.mask,t.mask,t):a(t.mask,t.mask,t)}function s(a,o,l){function h(e,t,n){t=t||0;var r,a,o,s=[],c=0,u=g();do{!0===e&&d().validPositions[c]?(o=d().validPositions[c],a=o.match,r=o.locator.slice(),s.push(!0===n?o.input:!1===n?a.nativeDef:j(c,a))):(o=y(c,r,c-1),a=o.match,r=o.locator.slice(),(!1===l.jitMasking||u>c||"number"==typeof l.jitMasking&&isFinite(l.jitMasking)&&l.jitMasking>c)&&s.push(!1===n?a.nativeDef:j(c,a))),c++}while((z===i||z>c)&&(null!==a.fn||""!==a.def)||t>c);return""===s[s.length-1]&&s.pop(),d().maskLength=c+1,s}function d(){return o}function m(e){var t=d();t.buffer=i,!0!==e&&(t.validPositions={},t.p=0)}function g(e,t,n){var r=-1,a=-1,o=n||d().validPositions;e===i&&(e=-1);for(var s in o){var l=parseInt(s);o[l]&&(t||!0!==o[l].generatedInput)&&(e>=l&&(r=l),l>=e&&(a=l))}return-1!==r&&e-r>1||e>a?r:a}function v(t,n,r,a){var o,s=t,c=e.extend(!0,{},d().validPositions),u=!1;for(d().p=t,o=n-1;o>=s;o--)d().validPositions[o]!==i&&(!0!==r&&(!d().validPositions[o].match.optionality&&function(e){var t=d().validPositions[e];if(t!==i&&null===t.match.fn){var n=d().validPositions[e-1],r=d().validPositions[e+1];return n!==i&&r!==i}return!1}(o)||!1===l.canClearPosition(d(),o,g(),a,l))||delete d().validPositions[o]);for(m(!0),o=s+1;o<=g();){for(;d().validPositions[s]!==i;)s++;if(s>o&&(o=s+1),d().validPositions[o]===i&&D(o))o++;else{var p=y(o);!1===u&&c[s]&&c[s].match.def===p.match.def?(d().validPositions[s]=e.extend(!0,{},c[s]),d().validPositions[s].input=p.input,delete d().validPositions[o],o++):b(s,p.match.def)?!1!==A(s,p.input||j(o),!0)&&(delete d().validPositions[o],o++,u=!0):D(o)||(o++,s--),s++}}m(!0)}function k(e,t){for(var n,r=e,a=g(),o=d().validPositions[a]||w(0)[0],s=o.alternation!==i?o.locator[o.alternation].toString().split(","):[],c=0;c<r.length&&(!((n=r[c]).match&&(l.greedy&&!0!==n.match.optionalQuantifier||(!1===n.match.optionality||!1===n.match.newBlockMarker)&&!0!==n.match.optionalQuantifier)&&(o.alternation===i||o.alternation!==n.alternation||n.locator[o.alternation]!==i&&P(n.locator[o.alternation].toString().split(","),s)))||!0===t&&(null!==n.match.fn||/[0-9a-bA-Z]/.test(n.match.def)));c++);return n}function y(e,t,n){return d().validPositions[e]||k(w(e,t?t.slice():t,n))}function $(e){return d().validPositions[e]?d().validPositions[e]:w(e)[0]}function b(e,t){for(var n=!1,i=w(e),r=0;r<i.length;r++)if(i[r].match&&i[r].match.def===t){n=!0;break}return n}function w(t,n,r){function a(n,r,o,c){function p(o,c,g){function v(t,n){var i=0===e.inArray(t,n.matches);return i||e.each(n.matches,function(e,r){return(!0!==r.isQuantifier||!(i=v(t,n.matches[e-1])))&&void 0}),i}function k(t,n,r){var a,o;if(d().validPositions[t-1]&&r&&d().tests[t])for(var s=d().validPositions[t-1].locator,l=d().tests[t][0].locator,c=0;r>c;c++)if(s[c]!==l[c])return s.slice(r+1);return(d().tests[t]||d().validPositions[t])&&e.each(d().tests[t]||[d().validPositions[t]],function(e,t){var s=r!==i?r:t.alternation,l=t.locator[s]!==i?t.locator[s].toString().indexOf(n):-1;(o===i||o>l)&&-1!==l&&(a=t,o=l)}),a?a.locator.slice((r!==i?r:a.alternation)+1):r!==i?k(t,n):i}if(u>1e4)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+d().mask;if(u===t&&o.matches===i)return f.push({match:o,locator:c.reverse(),cd:m}),!0;if(o.matches!==i){if(o.isGroup&&g!==o){if(o=p(n.matches[e.inArray(o,n.matches)+1],c))return!0}else if(o.isOptional){var y=o;if(o=a(o,r,c,g)){if(s=f[f.length-1].match,!v(s,y))return!0;h=!0,u=t}}else if(o.isAlternator){var $,b=o,w=[],x=f.slice(),C=c.length,S=r.length>0?r.shift():-1;if(-1===S||"string"==typeof S){var E,P=u,A=r.slice(),D=[];if("string"==typeof S)D=S.split(",");else for(E=0;E<b.matches.length;E++)D.push(E);for(var M=0;M<D.length;M++){if(E=parseInt(D[M]),f=[],r=k(u,E,C)||A.slice(),!0!==(o=p(b.matches[E]||n.matches[E],[E].concat(c),g)||o)&&o!==i&&D[D.length-1]<b.matches.length){var O=e.inArray(o,n.matches)+1;n.matches.length>O&&(o=p(n.matches[O],[O].concat(c.slice(1,c.length)),g))&&(D.push(O.toString()),e.each(f,function(e,t){t.alternation=c.length-1}))}$=f.slice(),u=P,f=[];for(var _=0;_<$.length;_++){var T=$[_],j=!1;T.alternation=T.alternation||C;for(var R=0;R<w.length;R++){var L=w[R];if("string"!=typeof S||-1!==e.inArray(T.locator[T.alternation].toString(),D)){if(function(e,t){return e.match.nativeDef===t.match.nativeDef||e.match.def===t.match.nativeDef||e.match.nativeDef===t.match.def}(T,L)){j=!0,T.alternation===L.alternation&&-1===L.locator[L.alternation].toString().indexOf(T.locator[T.alternation])&&(L.locator[L.alternation]=L.locator[L.alternation]+","+T.locator[T.alternation],L.alternation=T.alternation),T.match.nativeDef===L.match.def&&(T.locator[T.alternation]=L.locator[L.alternation],w.splice(w.indexOf(L),1,T));break}if(T.match.def===L.match.def){j=!1;break}if(function(e,n){return null===e.match.fn&&null!==n.match.fn&&n.match.fn.test(e.match.def,d(),t,!1,l,!1)}(T,L)||function(e,n){return null!==e.match.fn&&null!==n.match.fn&&n.match.fn.test(e.match.def.replace(/[\[\]]/g,""),d(),t,!1,l,!1)}(T,L)){T.alternation==L.alternation&&-1===T.locator[T.alternation].toString().indexOf(L.locator[L.alternation].toString().split("")[0])&&(T.na=T.na||T.locator[T.alternation].toString(),-1===T.na.indexOf(T.locator[T.alternation].toString().split("")[0])&&(T.na=T.na+","+T.locator[L.alternation].toString().split("")[0]),j=!0,T.locator[T.alternation]=L.locator[L.alternation].toString().split("")[0]+","+T.locator[T.alternation],w.splice(w.indexOf(L),0,T));break}}}j||w.push(T)}}"string"==typeof S&&(w=e.map(w,function(t,n){if(isFinite(n)){var r=t.alternation,a=t.locator[r].toString().split(",");t.locator[r]=i,t.alternation=i;for(var o=0;o<a.length;o++)-1!==e.inArray(a[o],D)&&(t.locator[r]!==i?(t.locator[r]+=",",t.locator[r]+=a[o]):t.locator[r]=parseInt(a[o]),t.alternation=r);if(t.locator[r]!==i)return t}})),f=x.concat(w),u=t,h=f.length>0,o=w.length>0,r=A.slice()}else o=p(b.matches[S]||n.matches[S],[S].concat(c),g);if(o)return!0}else if(o.isQuantifier&&g!==n.matches[e.inArray(o,n.matches)-1])for(var I=o,F=r.length>0?r.shift():0;F<(isNaN(I.quantifier.max)?F+1:I.quantifier.max)&&t>=u;F++){var G=n.matches[e.inArray(I,n.matches)-1];if(o=p(G,[F].concat(c),G)){if(s=f[f.length-1].match,s.optionalQuantifier=F>I.quantifier.min-1,v(s,G)){if(F>I.quantifier.min-1){h=!0,u=t;break}return!0}return!0}}else if(o=a(o,r,c,g))return!0}else u++}for(var g=r.length>0?r.shift():0;g<n.matches.length;g++)if(!0!==n.matches[g].isQuantifier){var v=p(n.matches[g],[g].concat(o),c);if(v&&u===t)return v;if(u>t)break}}function o(e){if(l.keepStatic&&t>0&&e.length>1+(""===e[e.length-1].match.def?1:0)&&!0!==e[0].match.optionality&&!0!==e[0].match.optionalQuantifier&&null===e[0].match.fn&&!/[0-9a-bA-Z]/.test(e[0].match.def)){if(d().validPositions[t-1]===i)return[k(e)];if(d().validPositions[t-1].alternation===e[0].alternation)return[k(e)];if(d().validPositions[t-1])return[k(e)]}return e}var s,c=d().maskToken,u=n?r:0,p=n?n.slice():[0],f=[],h=!1,m=n?n.join(""):"";if(t>-1){if(n===i){for(var g,v=t-1;(g=d().validPositions[v]||d().tests[v])===i&&v>-1;)v--;g!==i&&v>-1&&(p=function(t){var n=[];return e.isArray(t)||(t=[t]),t.length>0&&(t[0].alternation===i?0===(n=k(t.slice()).locator.slice()).length&&(n=t[0].locator.slice()):e.each(t,function(e,t){if(""!==t.def)if(0===n.length)n=t.locator.slice();else for(var i=0;i<n.length;i++)t.locator[i]&&-1===n[i].toString().indexOf(t.locator[i])&&(n[i]+=","+t.locator[i])})),n}(g),m=p.join(""),u=v)}if(d().tests[t]&&d().tests[t][0].cd===m)return o(d().tests[t]);for(var y=p.shift();y<c.length&&!(a(c[y],p,[y])&&u===t||u>t);y++);}return(0===f.length||h)&&f.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:"",placeholder:""},locator:[],cd:m}),n!==i&&d().tests[t]?o(e.extend(!0,[],f)):(d().tests[t]=e.extend(!0,[],f),o(d().tests[t]))}function x(){return d()._buffer===i&&(d()._buffer=h(!1,1),d().buffer===i&&(d().buffer=d()._buffer.slice())),d()._buffer}function C(e){return d().buffer!==i&&!0!==e||(d().buffer=h(!0,g(),!0)),d().buffer}function S(e,t,n){var r,a;if(!0===e)m(),e=0,t=n.length;else for(r=e;t>r;r++)delete d().validPositions[r];for(a=e,r=e;t>r;r++)if(m(!0),n[r]!==l.skipOptionalPartCharacter){var o=A(a,n[r],!0,!0);!1!==o&&(m(!0),a=o.caret!==i?o.caret:o.pos+1)}}function E(t,n,i){switch(l.casing||n.casing){case"upper":t=t.toUpperCase();break;case"lower":t=t.toLowerCase();break;case"title":var a=d().validPositions[i-1];t=0===i||a&&a.input===String.fromCharCode(r.keyCode.SPACE)?t.toUpperCase():t.toLowerCase();break;default:if(e.isFunction(l.casing)){var o=Array.prototype.slice.call(arguments);o.push(d().validPositions),t=l.casing.apply(this,o)}}return t}function P(t,n,r){for(var a,o=l.greedy?n:n.slice(0,1),s=!1,c=r!==i?r.split(","):[],u=0;u<c.length;u++)-1!==(a=t.indexOf(c[u]))&&t.splice(a,1);for(var p=0;p<t.length;p++)if(-1!==e.inArray(t[p],o)){s=!0;break}return s}function A(t,n,a,o,s,c){function u(e){var t=Z?e.begin-e.end>1||e.begin-e.end==1:e.end-e.begin>1||e.end-e.begin==1;return t&&0===e.begin&&e.end===d().maskLength?"full":t}function p(n,r,a){var s=!1;return e.each(w(n),function(c,p){for(var h=p.match,k=r?1:0,y="",$=h.cardinality;$>k;$--)y+=_(n-($-1));if(r&&(y+=r),C(!0),!1!==(s=null!=h.fn?h.fn.test(y,d(),n,a,l,u(t)):(r===h.def||r===l.skipOptionalPartCharacter)&&""!==h.def&&{c:j(n,h,!0)||h.def,pos:n})){var b=s.c!==i?s.c:r;b=b===l.skipOptionalPartCharacter&&null===h.fn?j(n,h,!0)||h.def:b;var w=n,x=C();if(s.remove!==i&&(e.isArray(s.remove)||(s.remove=[s.remove]),e.each(s.remove.sort(function(e,t){return t-e}),function(e,t){v(t,t+1,!0)})),s.insert!==i&&(e.isArray(s.insert)||(s.insert=[s.insert]),e.each(s.insert.sort(function(e,t){return e-t}),function(e,t){A(t.pos,t.c,!0,o)})),s.refreshFromBuffer){var P=s.refreshFromBuffer;if(S(!0===P?P:P.start,P.end,x),s.pos===i&&s.c===i)return s.pos=g(),!1;if((w=s.pos!==i?s.pos:n)!==n)return s=e.extend(s,A(w,b,!0,o)),!1}else if(!0!==s&&s.pos!==i&&s.pos!==n&&(w=s.pos,S(n,w,C().slice()),w!==n))return s=e.extend(s,A(w,b,!0)),!1;return(!0===s||s.pos!==i||s.c!==i)&&(c>0&&m(!0),f(w,e.extend({},p,{input:E(b,h,w)}),o,u(t))||(s=!1),!1)}}),s}function f(t,n,r,a){if(a||l.insertMode&&d().validPositions[t]!==i&&r===i){var o,s=e.extend(!0,{},d().validPositions),c=g(i,!0);for(o=t;c>=o;o++)delete d().validPositions[o];d().validPositions[t]=e.extend(!0,{},n);var u,p=!0,f=d().validPositions,v=!1,k=d().maskLength;for(o=u=t;c>=o;o++){var y=s[o];if(y!==i)for(var $=u;$<d().maskLength&&(null===y.match.fn&&f[o]&&(!0===f[o].match.optionalQuantifier||!0===f[o].match.optionality)||null!=y.match.fn);){if($++,!1===v&&s[$]&&s[$].match.def===y.match.def)d().validPositions[$]=e.extend(!0,{},s[$]),d().validPositions[$].input=y.input,h($),u=$,p=!0;else if(b($,y.match.def)){var w=A($,y.input,!0,!0);p=!1!==w,u=w.caret||w.insert?g():$,v=!0}else if(!(p=!0===y.generatedInput)&&$>=d().maskLength-1)break;if(d().maskLength<k&&(d().maskLength=k),p)break}if(!p)break}if(!p)return d().validPositions=e.extend(!0,{},s),m(!0),!1}else d().validPositions[t]=e.extend(!0,{},n);return m(!0),!0}function h(t){for(var n=t-1;n>-1&&!d().validPositions[n];n--);var r,a;for(n++;t>n;n++)d().validPositions[n]===i&&(!1===l.jitMasking||l.jitMasking>n)&&(""===(a=w(n,y(n-1).locator,n-1).slice())[a.length-1].match.def&&a.pop(),(r=k(a))&&(r.match.def===l.radixPointDefinitionSymbol||!D(n,!0)||e.inArray(l.radixPoint,C())<n&&r.match.fn&&r.match.fn.test(j(n),d(),n,!1,l))&&!1!==(x=p(n,j(n,r.match,!0)||(null==r.match.fn?r.match.def:""!==j(n)?j(n):C()[n]),!0))&&(d().validPositions[x.pos||n].generatedInput=!0))}a=!0===a;var $=t;t.begin!==i&&($=Z&&!u(t)?t.end:t.begin);var x=!0,O=e.extend(!0,{},d().validPositions);if(e.isFunction(l.preValidation)&&!a&&!0!==o&&!0!==c&&(x=l.preValidation(C(),$,n,u(t),l)),!0===x){if(h($),u(t)&&(U(i,r.keyCode.DELETE,t,!0,!0),$=d().p),$<d().maskLength&&(z===i||z>$)&&(x=p($,n,a),(!a||!0===o)&&!1===x&&!0!==c)){var T=d().validPositions[$];if(!T||null!==T.match.fn||T.match.def!==n&&n!==l.skipOptionalPartCharacter){if((l.insertMode||d().validPositions[M($)]===i)&&!D($,!0))for(var R=$+1,L=M($);L>=R;R++)if(!1!==(x=p(R,n,a))){!function(t,n){var r=d().validPositions[n];if(r)for(var a=r.locator,o=a.length,s=t;n>s;s++)if(d().validPositions[s]===i&&!D(s,!0)){var l=w(s).slice(),c=k(l,!0),u=-1;""===l[l.length-1].match.def&&l.pop(),e.each(l,function(e,t){for(var n=0;o>n;n++){if(t.locator[n]===i||!P(t.locator[n].toString().split(","),a[n].toString().split(","),t.na)){var r=a[n],s=c.locator[n],l=t.locator[n];r-s>Math.abs(r-l)&&(c=t);break}n>u&&(u=n,c=t)}}),(c=e.extend({},c,{input:j(s,c.match,!0)||c.match.def})).generatedInput=!0,f(s,c,!0),d().validPositions[n]=i,p(n,r.input,!0)}}($,x.pos!==i?x.pos:R),$=R;break}}else x={caret:M($)}}!1===x&&l.keepStatic&&!a&&!0!==s&&(x=function(t,n,r){var a,s,c,u,p,f,h,v,k=e.extend(!0,{},d().validPositions),y=!1,$=g();for(u=d().validPositions[$];$>=0;$--)if((c=d().validPositions[$])&&c.alternation!==i){if(a=$,s=d().validPositions[a].alternation,u.locator[c.alternation]!==c.locator[c.alternation])break;u=c}if(s!==i){v=parseInt(a);var b=u.locator[u.alternation||s]!==i?u.locator[u.alternation||s]:h[0];b.length>0&&(b=b.split(",")[0]);var x=d().validPositions[v],C=d().validPositions[v-1];e.each(w(v,C?C.locator:i,v-1),function(a,c){h=c.locator[s]?c.locator[s].toString().split(","):[];for(var u=0;u<h.length;u++){var $=[],w=0,C=0,S=!1;if(b<h[u]&&(c.na===i||-1===e.inArray(h[u],c.na.split(","))||-1===e.inArray(b.toString(),h))){d().validPositions[v]=e.extend(!0,{},c);var E=d().validPositions[v].locator;for(d().validPositions[v].locator[s]=parseInt(h[u]),null==c.match.fn?(x.input!==c.match.def&&(S=!0,!0!==x.generatedInput&&$.push(x.input)),C++,d().validPositions[v].generatedInput=!/[0-9a-bA-Z]/.test(c.match.def),d().validPositions[v].input=c.match.def):d().validPositions[v].input=x.input,p=v+1;p<g(i,!0)+1;p++)(f=d().validPositions[p])&&!0!==f.generatedInput&&/[0-9a-bA-Z]/.test(f.input)?$.push(f.input):t>p&&w++,delete d().validPositions[p];for(S&&$[0]===c.match.def&&$.shift(),m(!0),y=!0;$.length>0;){var P=$.shift();if(P!==l.skipOptionalPartCharacter&&!(y=A(g(i,!0)+1,P,!1,o,!0)))break}if(y){d().validPositions[v].locator=E;var D=g(t)+1;for(p=v+1;p<g()+1;p++)((f=d().validPositions[p])===i||null==f.match.fn)&&t+(C-w)>p&&C++;y=A((t+=C-w)>D?D:t,n,r,o,!0)}if(y)return!1;m(),d().validPositions=e.extend(!0,{},k)}}})}return y}($,n,a)),!0===x&&(x={pos:$})}if(e.isFunction(l.postValidation)&&!1!==x&&!a&&!0!==o&&!0!==c){var I=l.postValidation(C(!0),x,l);if(I.refreshFromBuffer&&I.buffer){var F=I.refreshFromBuffer;S(!0===F?F:F.start,F.end,I.buffer)}x=!0===I?x:I}return x&&x.pos===i&&(x.pos=$),!1!==x&&!0!==c||(m(!0),d().validPositions=e.extend(!0,{},O)),x}function D(e,t){var n=y(e).match;if(""===n.def&&(n=$(e).match),null!=n.fn)return n.fn;if(!0!==t&&e>-1){var i=w(e);return i.length>1+(""===i[i.length-1].match.def?1:0)}return!1}function M(e,t){var n=d().maskLength;if(e>=n)return n;var i=e;for(w(n+1).length>1&&(h(!0,n+1,!0),n=d().maskLength);++i<n&&(!0===t&&(!0!==$(i).match.newBlockMarker||!D(i))||!0!==t&&!D(i)););return i}function O(e,t){var n,i=e;if(0>=i)return 0;for(;--i>0&&(!0===t&&!0!==$(i).match.newBlockMarker||!0!==t&&!D(i)&&((n=w(i)).length<2||2===n.length&&""===n[1].match.def)););return i}function _(e){return d().validPositions[e]===i?j(e):d().validPositions[e].input}function T(t,n,r,a,o){if(a&&e.isFunction(l.onBeforeWrite)){var s=l.onBeforeWrite.call(K,a,n,r,l);if(s){if(s.refreshFromBuffer){var c=s.refreshFromBuffer;S(!0===c?c:c.start,c.end,s.buffer||n),n=C(!0)}r!==i&&(r=s.caret!==i?s.caret:r)}}t!==i&&(t.inputmask._valueSet(n.join("")),r===i||a!==i&&"blur"===a.type?q(t,r,0===n.length):f&&a&&"input"===a.type?setTimeout(function(){I(t,r)},0):I(t,r),!0===o&&(X=!0,e(t).trigger("input")))}function j(t,n,r){if((n=n||$(t).match).placeholder!==i||!0===r)return e.isFunction(n.placeholder)?n.placeholder(l):n.placeholder;if(null===n.fn){if(t>-1&&d().validPositions[t]===i){var a,o=w(t),s=[];if(o.length>1+(""===o[o.length-1].match.def?1:0))for(var c=0;c<o.length;c++)if(!0!==o[c].match.optionality&&!0!==o[c].match.optionalQuantifier&&(null===o[c].match.fn||a===i||!1!==o[c].match.fn.test(a.match.def,d(),t,!0,l))&&(s.push(o[c]),null===o[c].match.fn&&(a=o[c]),s.length>1&&/[0-9a-bA-Z]/.test(s[0].match.def)))return l.placeholder.charAt(t%l.placeholder.length)}return n.def}return l.placeholder.charAt(t%l.placeholder.length)}function R(t,a,o,s,c){function u(e,t){return-1!==x().slice(e,M(e)).join("").indexOf(t)&&!D(e)&&$(e).match.nativeDef===t.charAt(t.length-1)}var p=s.slice(),f="",h=-1,v=i;if(m(),o||!0===l.autoUnmask)h=M(h);else{var k=x().slice(0,M(-1)).join(""),b=p.join("").match(new RegExp("^"+r.escapeRegex(k),"g"));b&&b.length>0&&(p.splice(0,b.length*k.length),h=M(h))}if(-1===h?(d().p=M(h),h=0):d().p=h,e.each(p,function(n,r){if(r!==i)if(d().validPositions[n]===i&&p[n]===j(n)&&D(n,!0)&&!1===A(n,p[n],!0,i,i,!0))d().p++;else{var a=new e.Event("_checkval");a.which=r.charCodeAt(0),f+=r;var s=g(i,!0),c=d().validPositions[s],k=y(s+1,c?c.locator.slice():i,s);if(!u(h,f)||o||l.autoUnmask){var $=o?n:null==k.match.fn&&k.match.optionality&&s+1<d().p?s+1:d().p;v=ne.keypressEvent.call(t,a,!0,!1,o,$),h=$+1,f=""}else v=ne.keypressEvent.call(t,a,!0,!1,!0,s+1);if(!1!==v&&!o&&e.isFunction(l.onBeforeWrite)){var b=v;if(v=l.onBeforeWrite.call(K,a,C(),v.forwardPosition,l),(v=e.extend(b,v))&&v.refreshFromBuffer){var w=v.refreshFromBuffer;S(!0===w?w:w.start,w.end,v.buffer),m(!0),v.caret&&(d().p=v.caret,v.forwardPosition=v.caret)}}}}),a){var w=i;n.activeElement===t&&v&&(w=l.numericInput?O(v.forwardPosition):v.forwardPosition),T(t,C(),w,c||new e.Event("checkval"),c&&"input"===c.type)}}function L(t){if(t){if(t.inputmask===i)return t.value;t.inputmask&&t.inputmask.refreshValue&&ne.setValueEvent.call(t)}var n=[],r=d().validPositions;for(var a in r)r[a].match&&null!=r[a].match.fn&&n.push(r[a].input);var o=0===n.length?"":(Z?n.reverse():n).join("");if(e.isFunction(l.onUnMask)){var s=(Z?C().slice().reverse():C()).join("");o=l.onUnMask.call(K,s,o,l)}return o}function I(e,r,a,o){function s(e){return!0===o||!Z||"number"!=typeof e||l.greedy&&""===l.placeholder||(e=C().join("").length-e),e}var u;if(r===i)return e.setSelectionRange?(r=e.selectionStart,a=e.selectionEnd):t.getSelection?(u=t.getSelection().getRangeAt(0)).commonAncestorContainer.parentNode!==e&&u.commonAncestorContainer!==e||(r=u.startOffset,a=u.endOffset):n.selection&&n.selection.createRange&&(u=n.selection.createRange(),r=0-u.duplicate().moveStart("character",-e.inputmask._valueGet().length),a=r+u.text.length),{begin:s(r),end:s(a)};if(r.begin!==i&&(a=r.end,r=r.begin),"number"==typeof r){r=s(r),a="number"==typeof(a=s(a))?a:r;var p=parseInt(((e.ownerDocument.defaultView||t).getComputedStyle?(e.ownerDocument.defaultView||t).getComputedStyle(e,null):e.currentStyle).fontSize)*a;if(e.scrollLeft=p>e.scrollWidth?p:0,c||!1!==l.insertMode||r!==a||a++,e.setSelectionRange)e.selectionStart=r,e.selectionEnd=a;else if(t.getSelection){if(u=n.createRange(),e.firstChild===i||null===e.firstChild){var f=n.createTextNode("");e.appendChild(f)}u.setStart(e.firstChild,r<e.inputmask._valueGet().length?r:e.inputmask._valueGet().length),u.setEnd(e.firstChild,a<e.inputmask._valueGet().length?a:e.inputmask._valueGet().length),u.collapse(!0);var h=t.getSelection();h.removeAllRanges(),h.addRange(u)}else e.createTextRange&&((u=e.createTextRange()).collapse(!0),u.moveEnd("character",a),u.moveStart("character",r),u.select());q(e,{begin:r,end:a})}}function F(t){var n,r,a=C(),o=a.length,s=g(),l={},c=d().validPositions[s],u=c!==i?c.locator.slice():i;for(n=s+1;n<a.length;n++)r=y(n,u,n-1),u=r.locator.slice(),l[n]=e.extend(!0,{},r);var p=c&&c.alternation!==i?c.locator[c.alternation]:i;for(n=o-1;n>s&&((r=l[n]).match.optionality||r.match.optionalQuantifier&&r.match.newBlockMarker||p&&(p!==l[n].locator[c.alternation]&&null!=r.match.fn||null===r.match.fn&&r.locator[c.alternation]&&P(r.locator[c.alternation].toString().split(","),p.toString().split(","))&&""!==w(n)[0].def))&&a[n]===j(n,r.match);n--)o--;return t?{l:o,def:l[o]?l[o].match:i}:o}function G(e){for(var t,n=F(),r=e.length,a=d().validPositions[g()];r>n&&!D(n,!0)&&(t=a!==i?y(n,a.locator.slice(""),a):$(n))&&!0!==t.match.optionality&&(!0!==t.match.optionalQuantifier&&!0!==t.match.newBlockMarker||n+1===r&&""===(a!==i?y(n+1,a.locator.slice(""),a):$(n+1)).match.def);)n++;for(;(t=d().validPositions[n-1])&&t&&t.match.optionality&&t.input===l.skipOptionalPartCharacter;)n--;return e.splice(n),e}function B(t){if(e.isFunction(l.isComplete))return l.isComplete(t,l);if("*"===l.repeat)return i;var n=!1,r=F(!0),a=O(r.l);if(r.def===i||r.def.newBlockMarker||r.def.optionality||r.def.optionalQuantifier){n=!0;for(var o=0;a>=o;o++){var s=y(o).match;if(null!==s.fn&&d().validPositions[o]===i&&!0!==s.optionality&&!0!==s.optionalQuantifier||null===s.fn&&t[o]!==j(o,s)){n=!1;break}}}return n}function U(t,n,a,o,s){if((l.numericInput||Z)&&(n===r.keyCode.BACKSPACE?n=r.keyCode.DELETE:n===r.keyCode.DELETE&&(n=r.keyCode.BACKSPACE),Z)){var c=a.end;a.end=a.begin,a.begin=c}n===r.keyCode.BACKSPACE&&(a.end-a.begin<1||!1===l.insertMode)?(a.begin=O(a.begin),d().validPositions[a.begin]!==i&&d().validPositions[a.begin].input===l.groupSeparator&&a.begin--):n===r.keyCode.DELETE&&a.begin===a.end&&(a.end=D(a.end,!0)&&d().validPositions[a.end]&&d().validPositions[a.end].input!==l.radixPoint?a.end+1:M(a.end)+1,d().validPositions[a.begin]!==i&&d().validPositions[a.begin].input===l.groupSeparator&&a.end++),v(a.begin,a.end,!1,o),!0!==o&&function(){if(l.keepStatic){for(var n=[],r=g(-1,!0),a=e.extend(!0,{},d().validPositions),o=d().validPositions[r];r>=0;r--){var s=d().validPositions[r];if(s){if(!0!==s.generatedInput&&/[0-9a-bA-Z]/.test(s.input)&&n.push(s.input),delete d().validPositions[r],s.alternation!==i&&s.locator[s.alternation]!==o.locator[s.alternation])break;o=s}}if(r>-1)for(d().p=M(g(-1,!0));n.length>0;){var c=new e.Event("keypress");c.which=n.pop().charCodeAt(0),ne.keypressEvent.call(t,c,!0,!1,!1,d().p)}else d().validPositions=e.extend(!0,{},a)}}();var u=g(a.begin,!0);if(u<a.begin)d().p=M(u);else if(!0!==o&&(d().p=a.begin,!0!==s))for(;d().p<u&&d().validPositions[d().p]===i;)d().p++}function N(i){function r(e){var t,r=n.createElement("span");for(var o in a)isNaN(o)&&-1!==o.indexOf("font")&&(r.style[o]=a[o]);r.style.textTransform=a.textTransform,r.style.letterSpacing=a.letterSpacing,r.style.position="absolute",r.style.height="auto",r.style.width="auto",r.style.visibility="hidden",r.style.whiteSpace="nowrap",n.body.appendChild(r);var s,l=i.inputmask._valueGet(),c=0;for(t=0,s=l.length;s>=t;t++){if(r.innerHTML+=l.charAt(t)||"_",r.offsetWidth>=e){var u=e-c,p=r.offsetWidth-e;r.innerHTML=l.charAt(t),t=p>(u-=r.offsetWidth/3)?t-1:t;break}c=r.offsetWidth}return n.body.removeChild(r),t}var a=(i.ownerDocument.defaultView||t).getComputedStyle(i,null),o=n.createElement("div");o.style.width=a.width,o.style.textAlign=a.textAlign,(W=n.createElement("div")).className="im-colormask",i.parentNode.insertBefore(W,i),i.parentNode.removeChild(i),W.appendChild(o),W.appendChild(i),i.style.left=o.offsetLeft+"px",e(i).on("click",function(e){return I(i,r(e.clientX)),ne.clickEvent.call(i,[e])}),e(i).on("keydown",function(e){e.shiftKey||!1===l.insertMode||setTimeout(function(){q(i)},0)})}function q(e,t,r){function a(){f||null!==s.fn&&c.input!==i?f&&(null!==s.fn&&c.input!==i||""===s.def)&&(f=!1,p+="</span>"):(f=!0,p+="<span class='im-static'>")}function o(i){!0!==i&&h!==t.begin||n.activeElement!==e||(p+="<span class='im-caret' style='border-right-width: 1px;border-right-style: solid;'></span>")}var s,c,u,p="",f=!1,h=0;if(W!==i){var m=C();if(t===i?t=I(e):t.begin===i&&(t={begin:t,end:t}),!0!==r){var v=g();do{o(),d().validPositions[h]?(c=d().validPositions[h],s=c.match,u=c.locator.slice(),a(),p+=m[h]):(c=y(h,u,h-1),s=c.match,u=c.locator.slice(),(!1===l.jitMasking||v>h||"number"==typeof l.jitMasking&&isFinite(l.jitMasking)&&l.jitMasking>h)&&(a(),p+=j(h,s))),h++}while((z===i||z>h)&&(null!==s.fn||""!==s.def)||v>h||f);-1===p.indexOf("im-caret")&&o(!0),f&&a()}var k=W.getElementsByTagName("div")[0];k.innerHTML=p,e.inputmask.positionColorMask(e,k)}}o=o||this.maskset,l=l||this.opts;var V,H,z,W,K=this,Q=this.el,Z=this.isRTL,Y=!1,X=!1,J=!1,ee=!1,te={on:function(t,n,a){var o=function(t){if(this.inputmask===i&&"FORM"!==this.nodeName){var n=e.data(this,"_inputmask_opts");n?new r(n).mask(this):te.off(this)}else{if("setvalue"===t.type||"FORM"===this.nodeName||!(this.disabled||this.readOnly&&!("keydown"===t.type&&t.ctrlKey&&67===t.keyCode||!1===l.tabThrough&&t.keyCode===r.keyCode.TAB))){switch(t.type){case"input":if(!0===X)return X=!1,t.preventDefault();break;case"keydown":Y=!1,X=!1;break;case"keypress":if(!0===Y)return t.preventDefault();Y=!0;break;case"click":if(u||p){var o=this,s=arguments;return setTimeout(function(){a.apply(o,s)},0),!1}}var c=a.apply(this,arguments);return!1===c&&(t.preventDefault(),t.stopPropagation()),c}t.preventDefault()}};t.inputmask.events[n]=t.inputmask.events[n]||[],t.inputmask.events[n].push(o),-1!==e.inArray(n,["submit","reset"])?null!=t.form&&e(t.form).on(n,o):e(t).on(n,o)},off:function(t,n){if(t.inputmask&&t.inputmask.events){var i;n?(i=[],i[n]=t.inputmask.events[n]):i=t.inputmask.events,e.each(i,function(n,i){for(;i.length>0;){var r=i.pop();-1!==e.inArray(n,["submit","reset"])?null!=t.form&&e(t.form).off(n,r):e(t).off(n,r)}delete t.inputmask.events[n]})}}},ne={keydownEvent:function(t){var i=this,a=e(i),o=t.keyCode,s=I(i);if(o===r.keyCode.BACKSPACE||o===r.keyCode.DELETE||p&&o===r.keyCode.BACKSPACE_SAFARI||t.ctrlKey&&o===r.keyCode.X&&!function(e){var t=n.createElement("input"),i="oncut",r=i in t;return r||(t.setAttribute(i,"return;"),r="function"==typeof t[i]),t=null,r}())t.preventDefault(),U(i,o,s),T(i,C(!0),d().p,t,i.inputmask._valueGet()!==C().join("")),i.inputmask._valueGet()===x().join("")?a.trigger("cleared"):!0===B(C())&&a.trigger("complete");else if(o===r.keyCode.END||o===r.keyCode.PAGE_DOWN){t.preventDefault();var c=M(g());l.insertMode||c!==d().maskLength||t.shiftKey||c--,I(i,t.shiftKey?s.begin:c,c,!0)}else o===r.keyCode.HOME&&!t.shiftKey||o===r.keyCode.PAGE_UP?(t.preventDefault(),I(i,0,t.shiftKey?s.begin:0,!0)):(l.undoOnEscape&&o===r.keyCode.ESCAPE||90===o&&t.ctrlKey)&&!0!==t.altKey?(R(i,!0,!1,V.split("")),a.trigger("click")):o!==r.keyCode.INSERT||t.shiftKey||t.ctrlKey?!0===l.tabThrough&&o===r.keyCode.TAB?(!0===t.shiftKey?(null===$(s.begin).match.fn&&(s.begin=M(s.begin)),s.end=O(s.begin,!0),s.begin=O(s.end,!0)):(s.begin=M(s.begin,!0),s.end=M(s.begin,!0),s.end<d().maskLength&&s.end--),s.begin<d().maskLength&&(t.preventDefault(),I(i,s.begin,s.end))):t.shiftKey||!1===l.insertMode&&(o===r.keyCode.RIGHT?setTimeout(function(){var e=I(i);I(i,e.begin)},0):o===r.keyCode.LEFT&&setTimeout(function(){var e=I(i);I(i,Z?e.begin+1:e.begin-1)},0)):(l.insertMode=!l.insertMode,I(i,l.insertMode||s.begin!==d().maskLength?s.begin:s.begin-1));l.onKeyDown.call(this,t,C(),I(i).begin,l),J=-1!==e.inArray(o,l.ignorables)},keypressEvent:function(t,n,a,o,s){var c=this,u=e(c),p=t.which||t.charCode||t.keyCode;if(!(!0===n||t.ctrlKey&&t.altKey)&&(t.ctrlKey||t.metaKey||J))return p===r.keyCode.ENTER&&V!==C().join("")&&(V=C().join(""),setTimeout(function(){u.trigger("change")},0)),!0;if(p){46===p&&!1===t.shiftKey&&""!==l.radixPoint&&(p=l.radixPoint.charCodeAt(0));var f,h=n?{begin:s,end:s}:I(c),g=String.fromCharCode(p);d().writeOutBuffer=!0;var v=A(h,g,o);if(!1!==v&&(m(!0),f=v.caret!==i?v.caret:n?v.pos+1:M(v.pos),d().p=f),!1!==a&&(setTimeout(function(){l.onKeyValidation.call(c,p,v,l)},0),d().writeOutBuffer&&!1!==v)){var k=C();T(c,k,l.numericInput&&v.caret===i?O(f):f,t,!0!==n),!0!==n&&setTimeout(function(){!0===B(k)&&u.trigger("complete")},0)}if(t.preventDefault(),n)return!1!==v&&(v.forwardPosition=f),v}},pasteEvent:function(n){var i,r=this,a=n.originalEvent||n,o=e(r),s=r.inputmask._valueGet(!0),c=I(r);Z&&(i=c.end,c.end=c.begin,c.begin=i);var u=s.substr(0,c.begin),p=s.substr(c.end,s.length);if(u===(Z?x().reverse():x()).slice(0,c.begin).join("")&&(u=""),p===(Z?x().reverse():x()).slice(c.end).join("")&&(p=""),Z&&(i=u,u=p,p=i),t.clipboardData&&t.clipboardData.getData)s=u+t.clipboardData.getData("Text")+p;else{if(!a.clipboardData||!a.clipboardData.getData)return!0;s=u+a.clipboardData.getData("text/plain")+p}var f=s;if(e.isFunction(l.onBeforePaste)){if(!1===(f=l.onBeforePaste.call(K,s,l)))return n.preventDefault();f||(f=s)}return R(r,!1,!1,Z?f.split("").reverse():f.toString().split("")),T(r,C(),M(g()),n,V!==C().join("")),!0===B(C())&&o.trigger("complete"),n.preventDefault()},inputFallBackEvent:function(t){var n=this,i=n.inputmask._valueGet();if(C().join("")!==i){var a=I(n);if(!1===function(t,n,i){if("."===n.charAt(i.begin-1)&&""!==l.radixPoint&&(n=n.split(""),n[i.begin-1]=l.radixPoint.charAt(0),n=n.join("")),n.charAt(i.begin-1)===l.radixPoint&&n.length>C().length){var r=new e.Event("keypress");return r.which=l.radixPoint.charCodeAt(0),ne.keypressEvent.call(t,r,!0,!0,!1,i.begin-1),!1}}(n,i,a))return!1;if(i=i.replace(new RegExp("("+r.escapeRegex(x().join(""))+")*"),""),!1===function(t,n,i){if(u){var r=n.replace(C().join(""),"");if(1===r.length){var a=new e.Event("keypress");return a.which=r.charCodeAt(0),ne.keypressEvent.call(t,a,!0,!0,!1,d().validPositions[i.begin-1]?i.begin:i.begin-1),!1}}}(n,i,a))return!1;a.begin>i.length&&(I(n,i.length),a=I(n));var o=C().join(""),s=i.substr(0,a.begin),c=i.substr(a.begin),p=o.substr(0,a.begin),h=o.substr(a.begin),m=a,v=0;if(c===h||s===p){if(m={begin:s.length},s[s.length-1]!==p[p.length-1]&&(m.begin--,v++),c.length>h.length)m.end=m.begin;else{var k=h.replace(new RegExp(r.escapeRegex(c)+"$"),"");m.end=m.begin+k.length+v}m.begin!==m.end||D(m.begin)||(m.end=a.end)}if(m.begin<m.end)T(n,C(),m),s.split("")[s.length-1]!==p.split("")[p.length-1]?(t.which=s.charCodeAt(s.length-1),J=!1,ne.keypressEvent.call(n,t)):(m.begin===m.end-1&&I(n,O(m.begin+1),m.end),t.keyCode=r.keyCode.DELETE,ne.keydownEvent.call(n,t));else{if(-1===g()){for(var y=x().join("");null===i.match(r.escapeRegex(y)+"$");)y=y.slice(1);i=i.replace(y,"")}e.isFunction(l.onBeforeMask)&&(i=l.onBeforeMask.call(K,i,l)||i),R(n,!0,!1,i.split(""),t),function(e,t,n){var i=I(e).begin,a=e.inputmask._valueGet(),o=a.indexOf(t),s=i;if(0===o&&i!==t.length)i=t.length;else{for(;null===a.match(r.escapeRegex(n)+"$");)n=n.substr(1);var l=a.indexOf(n);-1!==l&&""!==n&&i>l&&l>o&&(i=l)}D(i)||(i=M(i)),s!==i&&(I(e,i),f&&setTimeout(function(){I(e,i)},0))}(n,s,c),!0===B(C())&&e(n).trigger("complete")}t.preventDefault()}},setValueEvent:function(){this.inputmask.refreshValue=!1;var t=this,n=t.inputmask._valueGet(!0);e.isFunction(l.onBeforeMask)&&(n=l.onBeforeMask.call(K,n,l)||n),n=n.split(""),R(t,!0,!1,Z?n.reverse():n),V=C().join(""),(l.clearMaskOnLostFocus||l.clearIncomplete)&&t.inputmask._valueGet()===x().join("")&&t.inputmask._valueSet("")},focusEvent:function(e){var t=this,n=t.inputmask._valueGet();l.showMaskOnFocus&&(!l.showMaskOnHover||l.showMaskOnHover&&""===n)&&(t.inputmask._valueGet()!==C().join("")?T(t,C(),M(g())):!1===ee&&I(t,M(g()))),!0===l.positionCaretOnTab&&!1===ee&&""!==n&&(T(t,C(),I(t)),ne.clickEvent.apply(t,[e,!0])),V=C().join("")},mouseleaveEvent:function(){var e=this;if(ee=!1,l.clearMaskOnLostFocus&&n.activeElement!==e){var t=C().slice(),i=e.inputmask._valueGet();i!==e.getAttribute("placeholder")&&""!==i&&(-1===g()&&i===x().join("")?t=[]:G(t),T(e,t))}},clickEvent:function(t,r){function a(t){if(""!==l.radixPoint){var n=d().validPositions;if(n[t]===i||n[t].input===j(t)){if(t<M(-1))return!0;var r=e.inArray(l.radixPoint,C());if(-1!==r){for(var a in n)if(a>r&&n[a].input!==j(a))return!1;return!0}}}return!1}var o=this;setTimeout(function(){if(n.activeElement===o){var e=I(o);if(r&&(Z?e.end=e.begin:e.begin=e.end),e.begin===e.end)switch(l.positionCaretOnClick){case"none":break;case"radixFocus":if(a(e.begin)){var t=C().join("").indexOf(l.radixPoint);I(o,l.numericInput?M(t):t);break}default:var s=e.begin,c=g(s,!0),u=M(c);if(u>s)I(o,D(s,!0)||D(s-1,!0)?s:M(s));else{var p=d().validPositions[c],f=y(u,p?p.match.locator:i,p),h=j(u,f.match);if(""!==h&&C()[u]!==h&&!0!==f.match.optionalQuantifier&&!0!==f.match.newBlockMarker||!D(u,!0)&&f.match.def===h){var m=M(u);(s>=m||s===u)&&(u=m)}I(o,u)}}}},0)},dblclickEvent:function(){var e=this;setTimeout(function(){I(e,0,M(g()))},0)},cutEvent:function(i){var a=this,o=e(a),s=I(a),l=i.originalEvent||i,c=t.clipboardData||l.clipboardData,u=Z?C().slice(s.end,s.begin):C().slice(s.begin,s.end);c.setData("text",Z?u.reverse().join(""):u.join("")),n.execCommand&&n.execCommand("copy"),U(a,r.keyCode.DELETE,s),T(a,C(),d().p,i,V!==C().join("")),a.inputmask._valueGet()===x().join("")&&o.trigger("cleared")},blurEvent:function(t){var n=e(this),r=this;if(r.inputmask){var a=r.inputmask._valueGet(),o=C().slice();""!==a&&(l.clearMaskOnLostFocus&&(-1===g()&&a===x().join("")?o=[]:G(o)),!1===B(o)&&(setTimeout(function(){n.trigger("incomplete")},0),l.clearIncomplete&&(m(),o=l.clearMaskOnLostFocus?[]:x().slice())),T(r,o,i,t)),V!==C().join("")&&(V=o.join(""),n.trigger("change"))}},mouseenterEvent:function(){var e=this;ee=!0,n.activeElement!==e&&l.showMaskOnHover&&e.inputmask._valueGet()!==C().join("")&&T(e,C())},submitEvent:function(){V!==C().join("")&&H.trigger("change"),l.clearMaskOnLostFocus&&-1===g()&&Q.inputmask._valueGet&&Q.inputmask._valueGet()===x().join("")&&Q.inputmask._valueSet(""),l.removeMaskOnSubmit&&(Q.inputmask._valueSet(Q.inputmask.unmaskedvalue(),!0),setTimeout(function(){T(Q,C())},0))},resetEvent:function(){Q.inputmask.refreshValue=!0,setTimeout(function(){H.trigger("setvalue")},0)}};r.prototype.positionColorMask=function(e,t){e.style.left=t.offsetLeft+"px"};var ie;if(a!==i)switch(a.action){case"isComplete":return Q=a.el,B(C());case"unmaskedvalue":return Q!==i&&a.value===i||(ie=a.value,ie=(e.isFunction(l.onBeforeMask)?l.onBeforeMask.call(K,ie,l)||ie:ie).split(""),R(i,!1,!1,Z?ie.reverse():ie),e.isFunction(l.onBeforeWrite)&&l.onBeforeWrite.call(K,i,C(),0,l)),L(Q);case"mask":!function(t){te.off(t);var r=function(t,r){var a=t.getAttribute("type"),o="INPUT"===t.tagName&&-1!==e.inArray(a,r.supportsInputType)||t.isContentEditable||"TEXTAREA"===t.tagName;if(!o)if("INPUT"===t.tagName){var s=n.createElement("input");s.setAttribute("type",a),o="text"===s.type,s=null}else o="partial";return!1!==o?function(t){function a(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():-1!==g()||!0!==r.nullable?n.activeElement===this&&r.clearMaskOnLostFocus?(Z?G(C().slice()).reverse():G(C().slice())).join(""):s.call(this):"":s.call(this)}function o(t){l.call(this,t),this.inputmask&&e(this).trigger("setvalue")}var s,l;if(!t.inputmask.__valueGet){if(!0!==r.noValuePatching){if(Object.getOwnPropertyDescriptor){"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"==typeof"test".__proto__?function(e){return e.__proto__}:function(e){return e.constructor.prototype});var c=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t),"value"):i;c&&c.get&&c.set?(s=c.get,l=c.set,Object.defineProperty(t,"value",{get:a,set:o,configurable:!0})):"INPUT"!==t.tagName&&(s=function(){return this.textContent},l=function(e){this.textContent=e},Object.defineProperty(t,"value",{get:a,set:o,configurable:!0}))}else n.__lookupGetter__&&t.__lookupGetter__("value")&&(s=t.__lookupGetter__("value"),l=t.__lookupSetter__("value"),t.__defineGetter__("value",a),t.__defineSetter__("value",o));t.inputmask.__valueGet=s,t.inputmask.__valueSet=l}t.inputmask._valueGet=function(e){return Z&&!0!==e?s.call(this.el).split("").reverse().join(""):s.call(this.el)},t.inputmask._valueSet=function(e,t){l.call(this.el,null===e||e===i?"":!0!==t&&Z?e.split("").reverse().join(""):e)},s===i&&(s=function(){return this.value},l=function(e){this.value=e},function(t){if(e.valHooks&&(e.valHooks[t]===i||!0!==e.valHooks[t].inputmaskpatch)){var n=e.valHooks[t]&&e.valHooks[t].get?e.valHooks[t].get:function(e){return e.value},a=e.valHooks[t]&&e.valHooks[t].set?e.valHooks[t].set:function(e,t){return e.value=t,e};e.valHooks[t]={get:function(e){if(e.inputmask){if(e.inputmask.opts.autoUnmask)return e.inputmask.unmaskedvalue();var t=n(e);return-1!==g(i,i,e.inputmask.maskset.validPositions)||!0!==r.nullable?t:""}return n(e)},set:function(t,n){var i,r=e(t);return i=a(t,n),t.inputmask&&r.trigger("setvalue"),i},inputmaskpatch:!0}}}(t.type),function(t){te.on(t,"mouseenter",function(){var t=e(this);this.inputmask._valueGet()!==C().join("")&&t.trigger("setvalue")})}(t))}}(t):t.inputmask=i,o}(t,l);if(!1!==r&&(Q=t,H=e(Q),-1===(z=Q!==i?Q.maxLength:i)&&(z=i),!0===l.colorMask&&N(Q),f&&(Q.hasOwnProperty("inputmode")&&(Q.inputmode=l.inputmode,Q.setAttribute("inputmode",l.inputmode)),"rtfm"===l.androidHack&&(!0!==l.colorMask&&N(Q),Q.type="password")),!0===r&&(te.on(Q,"submit",ne.submitEvent),te.on(Q,"reset",ne.resetEvent),te.on(Q,"mouseenter",ne.mouseenterEvent),te.on(Q,"blur",ne.blurEvent),te.on(Q,"focus",ne.focusEvent),te.on(Q,"mouseleave",ne.mouseleaveEvent),!0!==l.colorMask&&te.on(Q,"click",ne.clickEvent),te.on(Q,"dblclick",ne.dblclickEvent),te.on(Q,"paste",ne.pasteEvent),te.on(Q,"dragdrop",ne.pasteEvent),te.on(Q,"drop",ne.pasteEvent),te.on(Q,"cut",ne.cutEvent),te.on(Q,"complete",l.oncomplete),te.on(Q,"incomplete",l.onincomplete),te.on(Q,"cleared",l.oncleared),f||!0===l.inputEventOnly?Q.removeAttribute("maxLength"):(te.on(Q,"keydown",ne.keydownEvent),te.on(Q,"keypress",ne.keypressEvent)),te.on(Q,"compositionstart",e.noop),te.on(Q,"compositionupdate",e.noop),te.on(Q,"compositionend",e.noop),te.on(Q,"keyup",e.noop),te.on(Q,"input",ne.inputFallBackEvent),te.on(Q,"beforeinput",e.noop)),te.on(Q,"setvalue",ne.setValueEvent),V=x().join(""),""!==Q.inputmask._valueGet(!0)||!1===l.clearMaskOnLostFocus||n.activeElement===Q)){var a=e.isFunction(l.onBeforeMask)?l.onBeforeMask.call(K,Q.inputmask._valueGet(!0),l)||Q.inputmask._valueGet(!0):Q.inputmask._valueGet(!0);""!==a&&R(Q,!0,!1,Z?a.split("").reverse():a.split(""));var o=C().slice();V=o.join(""),!1===B(o)&&l.clearIncomplete&&m(),l.clearMaskOnLostFocus&&n.activeElement!==Q&&(-1===g()?o=[]:G(o)),T(Q,o),n.activeElement===Q&&I(Q,M(g()))}}(Q);break;case"format":return ie=(e.isFunction(l.onBeforeMask)?l.onBeforeMask.call(K,a.value,l)||a.value:a.value).split(""),R(i,!0,!1,Z?ie.reverse():ie),a.metadata?{value:Z?C().slice().reverse().join(""):C().join(""),metadata:s.call(this,{action:"getmetadata"},o,l)}:Z?C().slice().reverse().join(""):C().join("");case"isValid":a.value?(ie=a.value.split(""),R(i,!0,!0,Z?ie.reverse():ie)):a.value=C().join("");for(var re=C(),ae=F(),oe=re.length-1;oe>ae&&!D(oe);oe--);return re.splice(ae,oe+1-ae),B(re)&&a.value===C().join("");case"getemptymask":return x().join("");case"remove":return Q&&Q.inputmask&&(H=e(Q),Q.inputmask._valueSet(l.autoUnmask?L(Q):Q.inputmask._valueGet(!0)),te.off(Q),Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Q),"value")&&Q.inputmask.__valueGet&&Object.defineProperty(Q,"value",{get:Q.inputmask.__valueGet,set:Q.inputmask.__valueSet,configurable:!0}):n.__lookupGetter__&&Q.__lookupGetter__("value")&&Q.inputmask.__valueGet&&(Q.__defineGetter__("value",Q.inputmask.__valueGet),Q.__defineSetter__("value",Q.inputmask.__valueSet)),Q.inputmask=i),Q;case"getmetadata":if(e.isArray(o.metadata)){var se=h(!0,0,!1).join("");return e.each(o.metadata,function(e,t){return t.mask===se?(se=t,!1):void 0}),se}return o.metadata}}var l=navigator.userAgent,c=/mobile/i.test(l),u=/iemobile/i.test(l),p=/iphone/i.test(l)&&!u,f=/android/i.test(l)&&!u;return r.prototype={dataAttribute:"data-inputmask",defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,regex:null,oncomplete:e.noop,onincomplete:e.noop,oncleared:e.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,alias:null,onKeyDown:e.noop,onBeforeMask:null,onBeforePaste:function(t,n){return e.isFunction(n.onBeforeMask)?n.onBeforeMask.call(this,t,n):t},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:e.noop,skipOptionalPartCharacter:" ",numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",radixPointDefinitionSymbol:i,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","password"],ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123,0,229],isComplete:null,canClearPosition:e.noop,preValidation:null,postValidation:null,staticDefinitionSymbol:i,jitMasking:!1,nullable:!0,inputEventOnly:!1,noValuePatching:!1,positionCaretOnClick:"lvp",casing:null,inputmode:"verbatim",colorMask:!1,androidHack:!1,importDataAttributes:!0},definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1}},aliases:{},masksCache:{},mask:function(l){function c(n,r,o,s){function l(e,r){null!==(r=r!==i?r:n.getAttribute(s+"-"+e))&&("string"==typeof r&&(0===e.indexOf("on")?r=t[r]:"false"===r?r=!1:"true"===r&&(r=!0)),o[e]=r)}if(!0===r.importDataAttributes){var c,u,p,f,h=n.getAttribute(s);if(h&&""!==h&&(h=h.replace(new RegExp("'","g"),'"'),u=JSON.parse("{"+h+"}")),u){p=i;for(f in u)if("alias"===f.toLowerCase()){p=u[f];break}}l("alias",p),o.alias&&a(o.alias,o,r);for(c in r){if(u){p=i;for(f in u)if(f.toLowerCase()===c.toLowerCase()){p=u[f];break}}l(c,p)}}return e.extend(!0,r,o),("rtl"===n.dir||r.rightAlign)&&(n.style.textAlign="right"),("rtl"===n.dir||r.numericInput)&&(n.dir="ltr",n.removeAttribute("dir"),r.isRTL=!0),r}var u=this;return"string"==typeof l&&(l=n.getElementById(l)||n.querySelectorAll(l)),l=l.nodeName?[l]:l,e.each(l,function(t,n){var a=e.extend(!0,{},u.opts);c(n,a,e.extend(!0,{},u.userOptions),u.dataAttribute);var l=o(a,u.noMasksCache);l!==i&&(n.inputmask!==i&&n.inputmask.remove(),n.inputmask=new r(i,i,!0),n.inputmask.opts=a,n.inputmask.noMasksCache=u.noMasksCache,n.inputmask.userOptions=e.extend(!0,{},u.userOptions),n.inputmask.isRTL=a.isRTL||a.numericInput,n.inputmask.el=n,n.inputmask.maskset=l,e.data(n,"_inputmask_opts",a),s.call(n.inputmask,{action:"mask"}))}),l&&l[0]?l[0].inputmask||this:this},option:function(t,n){return"string"==typeof t?this.opts[t]:"object"==typeof t?(e.extend(this.userOptions,t),this.el&&!0!==n&&this.mask(this.el),this):void 0},unmaskedvalue:function(e){return this.maskset=this.maskset||o(this.opts,this.noMasksCache),s.call(this,{action:"unmaskedvalue",value:e})},remove:function(){return s.call(this,{action:"remove"})},getemptymask:function(){return this.maskset=this.maskset||o(this.opts,this.noMasksCache),s.call(this,{action:"getemptymask"})},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return this.maskset=this.maskset||o(this.opts,this.noMasksCache),s.call(this,{action:"isComplete"})},getmetadata:function(){return this.maskset=this.maskset||o(this.opts,this.noMasksCache),s.call(this,{action:"getmetadata"})},isValid:function(e){return this.maskset=this.maskset||o(this.opts,this.noMasksCache),s.call(this,{action:"isValid",value:e})},format:function(e,t){return this.maskset=this.maskset||o(this.opts,this.noMasksCache),s.call(this,{action:"format",value:e,metadata:t})},analyseMask:function(t,n,a){function o(e,t,n,i){this.matches=[],this.openGroup=e||!1,this.alternatorGroup=!1,this.isGroup=e||!1,this.isOptional=t||!1,this.isQuantifier=n||!1,this.isAlternator=i||!1,this.quantifier={min:1,max:1}}function s(t,o,s){s=s!==i?s:t.matches.length;var l=t.matches[s-1];if(n)0===o.indexOf("[")||$||"."===o?t.matches.splice(s++,0,{fn:new RegExp(o,a.casing?"i":""),cardinality:1,optionality:t.isOptional,newBlockMarker:l===i||l.def!==o,casing:null,def:o,placeholder:i,nativeDef:o}):e.each(o.split(""),function(e,n){l=t.matches[s-1],t.matches.splice(s++,0,{fn:null,cardinality:0,optionality:t.isOptional,newBlockMarker:l===i||l.def!==n&&null!==l.fn,casing:null,def:a.staticDefinitionSymbol||n,placeholder:a.staticDefinitionSymbol!==i?n:i,nativeDef:n})}),$=!1;else{var c=(a.definitions?a.definitions[o]:i)||r.prototype.definitions[o];if(c&&!$){for(var u=c.prevalidator,p=u?u.length:0,f=1;f<c.cardinality;f++){var h=p>=f?u[f-1]:[],d=h.validator,m=h.cardinality;t.matches.splice(s++,0,{fn:d?"string"==typeof d?new RegExp(d,a.casing?"i":""):new function(){this.test=d}:new RegExp("."),cardinality:m||1,optionality:t.isOptional,newBlockMarker:l===i||l.def!==(c.definitionSymbol||o),casing:c.casing,def:c.definitionSymbol||o,placeholder:c.placeholder,nativeDef:o}),l=t.matches[s-1]}t.matches.splice(s++,0,{fn:c.validator?"string"==typeof c.validator?new RegExp(c.validator,a.casing?"i":""):new function(){this.test=c.validator}:new RegExp("."),cardinality:c.cardinality,optionality:t.isOptional,newBlockMarker:l===i||l.def!==(c.definitionSymbol||o),casing:c.casing,def:c.definitionSymbol||o,placeholder:c.placeholder,nativeDef:o})}else t.matches.splice(s++,0,{fn:null,cardinality:0,optionality:t.isOptional,newBlockMarker:l===i||l.def!==o&&null!==l.fn,casing:null,def:a.staticDefinitionSymbol||o,placeholder:a.staticDefinitionSymbol!==i?o:i,nativeDef:o}),$=!1}}function l(t){t&&t.matches&&e.each(t.matches,function(e,r){var o=t.matches[e+1];(o===i||o.matches===i||!1===o.isQuantifier)&&r&&r.isGroup&&(r.isGroup=!1,n||(s(r,a.groupmarker.start,0),!0!==r.openGroup&&s(r,a.groupmarker.end))),l(r)})}function c(){if(w.length>0){if(d=w[w.length-1],s(d,f),d.isAlternator){m=w.pop();for(var e=0;e<m.matches.length;e++)m.matches[e].isGroup=!1;w.length>0?(d=w[w.length-1]).matches.push(m):b.matches.push(m)}}else s(b,f)}function u(e){e.matches=e.matches.reverse();for(var t in e.matches)if(e.matches.hasOwnProperty(t)){var n=parseInt(t);if(e.matches[t].isQuantifier&&e.matches[n+1]&&e.matches[n+1].isGroup){var r=e.matches[t];e.matches.splice(t,1),e.matches.splice(n+1,0,r)}e.matches[t]=e.matches[t].matches!==i?u(e.matches[t]):function(e){return e===a.optionalmarker.start?e=a.optionalmarker.end:e===a.optionalmarker.end?e=a.optionalmarker.start:e===a.groupmarker.start?e=a.groupmarker.end:e===a.groupmarker.end&&(e=a.groupmarker.start),e}(e.matches[t])}return e}var p,f,h,d,m,g,v,k=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g,y=/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,$=!1,b=new o,w=[],x=[];for(n&&(a.optionalmarker.start=i,a.optionalmarker.end=i);p=n?y.exec(t):k.exec(t);){if(f=p[0],n&&!0!==$)switch(f.charAt(0)){case"?":f="{0,1}";break;case"+":case"*":f="{"+f+"}"}if($)c();else switch(f.charAt(0)){case a.escapeChar:$=!0,n&&c();break;case a.optionalmarker.end:case a.groupmarker.end:if(h=w.pop(),h.openGroup=!1,h!==i)if(w.length>0){if((d=w[w.length-1]).matches.push(h),d.isAlternator){m=w.pop();for(var C=0;C<m.matches.length;C++)m.matches[C].isGroup=!1,m.matches[C].alternatorGroup=!1;w.length>0?(d=w[w.length-1]).matches.push(m):b.matches.push(m)}}else b.matches.push(h);else c();break;case a.optionalmarker.start:w.push(new o(!1,!0));break;case a.groupmarker.start:w.push(new o(!0));break;case a.quantifiermarker.start:var S=new o(!1,!1,!0),E=(f=f.replace(/[{}]/g,"")).split(","),P=isNaN(E[0])?E[0]:parseInt(E[0]),A=1===E.length?P:isNaN(E[1])?E[1]:parseInt(E[1]);if("*"!==A&&"+"!==A||(P="*"===A?0:1),S.quantifier={min:P,max:A},w.length>0){var D=w[w.length-1].matches;(p=D.pop()).isGroup||((v=new o(!0)).matches.push(p),p=v),D.push(p),D.push(S)}else(p=b.matches.pop()).isGroup||(n&&null===p.fn&&"."===p.def&&(p.fn=new RegExp(p.def,a.casing?"i":"")),(v=new o(!0)).matches.push(p),p=v),b.matches.push(p),b.matches.push(S);break;case a.alternatormarker:if(w.length>0){var M=(d=w[w.length-1]).matches[d.matches.length-1];g=d.openGroup&&(M.matches===i||!1===M.isGroup&&!1===M.isAlternator)?w.pop():d.matches.pop()}else g=b.matches.pop();if(g.isAlternator)w.push(g);else if(g.alternatorGroup?(m=w.pop(),g.alternatorGroup=!1):m=new o(!1,!1,!1,!0),m.matches.push(g),w.push(m),g.openGroup){g.openGroup=!1;var O=new o(!0);O.alternatorGroup=!0,w.push(O)}break;default:c()}}for(;w.length>0;)h=w.pop(),b.matches.push(h);return b.matches.length>0&&(l(b),x.push(b)),(a.numericInput||a.isRTL)&&u(x[0]),x}},r.extendDefaults=function(t){e.extend(!0,r.prototype.defaults,t)},r.extendDefinitions=function(t){e.extend(!0,r.prototype.definitions,t)},r.extendAliases=function(t){e.extend(!0,r.prototype.aliases,t)},r.format=function(e,t,n){return r(t).format(e,n)},r.unmask=function(e,t){return r(t).unmaskedvalue(e)},r.isValid=function(e,t){return r(t).isValid(e)},r.remove=function(t){e.each(t,function(e,t){t.inputmask&&t.inputmask.remove()})},r.escapeRegex=function(e){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"];return e.replace(new RegExp("(\\"+t.join("|\\")+")","gim"),"\\$1")},r.keyCode={ALT:18,BACKSPACE:8,BACKSPACE_SAFARI:127,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91,X:88},r}),function(e){"function"==typeof define&&define.amd?define(["jquery","./inputmask"],e):"object"==typeof exports?module.exports=e(require("jquery"),require("./inputmask")):e(jQuery,window.Inputmask)}(function(e,t){return void 0===e.fn.inputmask&&(e.fn.inputmask=function(n,i){var r,a=this[0];if(void 0===i&&(i={}),"string"==typeof n)switch(n){case"unmaskedvalue":return a&&a.inputmask?a.inputmask.unmaskedvalue():e(a).val();case"remove":return this.each(function(){this.inputmask&&this.inputmask.remove()});case"getemptymask":return a&&a.inputmask?a.inputmask.getemptymask():"";case"hasMaskedValue":return!(!a||!a.inputmask)&&a.inputmask.hasMaskedValue();case"isComplete":return!a||!a.inputmask||a.inputmask.isComplete();case"getmetadata":return a&&a.inputmask?a.inputmask.getmetadata():void 0;case"setvalue":e(a).val(i),a&&void 0===a.inputmask&&e(a).triggerHandler("setvalue");break;case"option":if("string"!=typeof i)return this.each(function(){return void 0!==this.inputmask?this.inputmask.option(i):void 0});if(a&&void 0!==a.inputmask)return a.inputmask.option(i);break;default:return i.alias=n,r=new t(i),this.each(function(){r.mask(this)})}else{if("object"==typeof n)return r=new t(n),this.each(void 0===n.mask&&void 0===n.alias?function(){return void 0!==this.inputmask?this.inputmask.option(n):void r.mask(this)}:function(){r.mask(this)});if(void 0===n)return this.each(function(){(r=new t(i)).mask(this)})}}),e.fn.inputmask}),function(e){"function"==typeof define&&define.amd?define(["./dependencyLibs/inputmask.dependencyLib","./inputmask"],e):"object"==typeof exports?module.exports=e(require("./dependencyLibs/inputmask.dependencyLib"),require("./inputmask")):e(window.dependencyLib||jQuery,window.Inputmask)}(function(e,t){function n(e,t){var n=(e.mask||e).replace(/#/g,"9").replace(/\)/,"9").replace(/[+()#-]/g,""),i=(t.mask||t).replace(/#/g,"9").replace(/\)/,"9").replace(/[+()#-]/g,""),r=(e.mask||e).split("#")[0],a=(t.mask||t).split("#")[0];return 0===a.indexOf(r)?-1:0===r.indexOf(a)?1:n.localeCompare(i)}var i=t.prototype.analyseMask;return t.prototype.analyseMask=function(t,n,r){function a(e,n,i){n=n||"",i=i||s,""!==n&&(i[n]={});for(var r="",o=i[n]||i,l=e.length-1;l>=0;l--)t=e[l].mask||e[l],r=t.substr(0,1),o[r]=o[r]||[],o[r].unshift(t.substr(1)),e.splice(l,1);for(var c in o)o[c].length>500&&a(o[c].slice(),c,o)}function o(t){var n="",i=[];for(var a in t)i.push(e.isArray(t[a])?1===t[a].length?a+t[a]:a+r.groupmarker.start+t[a].join(r.groupmarker.end+r.alternatormarker+r.groupmarker.start)+r.groupmarker.end:a+o(t[a]));return n+=1===i.length?i[0]:r.groupmarker.start+i.join(r.groupmarker.end+r.alternatormarker+r.groupmarker.start)+r.groupmarker.end}var s={};return r.phoneCodes&&(r.phoneCodes&&r.phoneCodes.length>1e3&&(t=t.substr(1,t.length-2),a(t.split(r.groupmarker.end+r.alternatormarker+r.groupmarker.start)),t=o(s)),t=t.replace(/9/g,"\\9")),i.call(this,t,n,r)},t.extendAliases({abstractphone:{groupmarker:{start:"<",end:">"},countrycode:"",phoneCodes:[],mask:function(e){return e.definitions={"#":t.prototype.definitions[9]},e.phoneCodes.sort(n)},keepStatic:!0,onBeforeMask:function(e,t){var n=e.replace(/^0{1,2}/,"").replace(/[\s]/g,"");return(n.indexOf(t.countrycode)>1||-1===n.indexOf(t.countrycode))&&(n="+"+t.countrycode+n),n},onUnMask:function(e){return e.replace(/[()#-]/g,"")},inputmode:"tel"}}),t}),function(e){"function"==typeof define&&define.amd?define(["./dependencyLibs/inputmask.dependencyLib","./inputmask"],e):"object"==typeof exports?module.exports=e(require("./dependencyLibs/inputmask.dependencyLib"),require("./inputmask")):e(window.dependencyLib||jQuery,window.Inputmask)}(function(e,t){return t.extendDefinitions({A:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,casing:"upper"},"#":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,casing:"upper"},U:{validator:"[А-Яа-яҐґЁёІіЄєЫыЇї'`‘\\-]",cardinality:1}}),t.extendAliases({url:{definitions:{i:{validator:".",cardinality:1}},mask:"(\\http://)|(\\http\\s://)|(ftp://)|(ftp\\s://)i{+}",insertMode:!1,autoUnmask:!1,inputmode:"url"},ip:{mask:"i[i[i]].i[i[i]].i[i[i]].i[i[i]]",definitions:{i:{validator:function(e,t,n){return n-1>-1&&"."!==t.buffer[n-1]?(e=t.buffer[n-1]+e,e=n-2>-1&&"."!==t.buffer[n-2]?t.buffer[n-2]+e:"0"+e):e="00"+e,new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]").test(e)},cardinality:1}},onUnMask:function(e){return e},inputmode:"numeric"},email:{mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]",greedy:!1,onBeforePaste:function(e){return(e=e.toLowerCase()).replace("mailto:","")},definitions:{"*":{validator:"[0-9A-Za-z!#$%&'*+/=?^_`{|}~-]",cardinality:1,casing:"lower"},"-":{validator:"[0-9A-Za-z-]",cardinality:1,casing:"lower"}},onUnMask:function(e){return e},inputmode:"email"},mac:{mask:"##:##:##:##:##:##"},vin:{mask:"V{13}9{4}",definitions:{V:{validator:"[A-HJ-NPR-Za-hj-npr-z\\d]",cardinality:1,casing:"upper"}},clearIncomplete:!0,autoUnmask:!0}}),t});var firstStepController;firstStepController=function(){function e(e,t,n,i,r,a,o,s,l){this.$http=e,this.$scope=t,this.$rootScope=n,this.$sce=i,this.$location=r,this.$element=a,this.$sceDelegate=o,this.$filter=s,this.$timeout=l,this.data={aims:{}},this.val_range={min:200,max:5e4},this.$scope.$watch(function(e){return function(t,n,i){return e.$scope.main.currentStep}}(this),function(e){return function(t,n,i){if(e.$iElement=$(e.$element),1===(t=parseInt(t)))return e.init()}}(this))}return e.prototype.card_hover=function(e,t){return this.$scope.cards_first.card_hover="mouseover"===e.type?t:""},e.prototype.selectAllTxt=function(e){return e.currentTarget.select()},e.prototype.chgAmount=function(e){return this.$timeout(function(e){return function(){var t;if(e.$scope.$storage.strgData.amount=e.$scope.$storage.strgData.amount.replace(/[^0-9]+/g,""),e.$scope.$storage.strgData.amount&&null!=(t=e.$iElement.find(".ui.range").data("module-amountrange").update)&&t.value(e.$scope.$storage.strgData.amount),!e.$scope.$$phase)return e.$scope.$apply()}}(this))},e.prototype.nextStep=function(){var e;if(e=$(this.$element).find(".ui.form"),(e=e.data("module-form"))&&e.is.valid()){if(this.$scope.main.loading=!0,this.data.aims={},this.$location.path("/s2"),!this.$scope.$$phase)return this.$scope.$apply()}else if(e)return e.validate.form()},e.prototype.update=function(){var e;return e=this.$iElement.find(".ui.dropdown").dropdown({onChange:function(e){return function(t,n,i){return e.$scope.$storage.strgData.aims=t}}(this)}),this.$scope.$storage.strgData.aims&&this.$timeout(function(t){return function(){return e.data("module-dropdown").set.selected(t.$scope.$storage.strgData.aims)}}(this)),this.changeAmount=function(e){return function(t){return e.$timeout(function(){var n;return e.$scope.$storage.strgData.amount=t,(n=e.$iElement.find("[name='amount']")).length&&(n=angular.element(n)),"function"==typeof n.val&&n.val(t),"function"==typeof n.triggerHandler?n.triggerHandler("change"):void 0})}}(this),this.$iElement.find(".ui.range").range({min:this.val_range.min,max:this.val_range.max,start:this.$scope.$storage.strgData.amount,step:100,smooth:!0,name:"AmountRange",namespace:"amountrange",onChange:function(e){return function(t,n){return e.changeAmount(t)}}(this),onMove:function(e){return function(t,n){return e.changeAmount(t)}}(this)}),$(this.$element).find(".ui.form").form({inline:!0,on:"blur",fields:{aims:{identifier:"aims",rules:[{type:"empty",prompt:"Выберите цель кредита"}]},amount:{identifier:"amount",rules:[{type:"integer[200..50000]",prompt:"Сумма кредита должна быть от 200 до 50 000 грн."}]}}}),this.$scope.main.loading=!1},e.prototype.init=function(){var e,t;return this.data.aims={},e={data:"aims"},t=this.$sceDelegate.trustAs(this.$sce.RESOURCE_URL,""+this.$rootScope.settings.api.url+this.$rootScope.settings.api.command.list),this.$http.jsonp(t,{params:e}).then(function(e){return function(t){var n;return"success"===(n=t.data).result&&"aims"===n.listId&&(e.data.aims=n.data),e.update()}}(this),function(e){return function(t,n,i,r){return e.update()}}(this))},e}();var firstCardsStepController;firstCardsStepController=function(){return function(e,t,n,i,r,a){this.$http=e,this.$scope=t,this.$sce=n,this.$window=i,this.$element=r,this.$attrs=a,this.card_hover="",this.content=[],this.content.push({icon:"wrench",title:"У каждого банка своя специализация",text:this.$sce.trustAsHtml("Зная, на что пойдут деньги, мы сможем лучше подобрать вам банк. Мы знаем, какие банки дают кредиты на ремонт, какие - на покупки.")}),this.content.push({icon:"wallet",title:"Меньше сумма — выше шансы",text:this.$sce.trustAsHtml("Чем выше сумма, тем больше требований. Банк может поинтересоваться недвижимостью, автомобилем, или попросить загранпаспорт, чтобы увидеть как часто вы путешествуете. <br /><br /> Получить 100 000 гривен без залога почти нереально. Выберите для себя оптимальную сумму.")})}}();var twoStepController;twoStepController=function(){function e(e,t,n,i,r,a,o,s,l){this.$http=e,this.$scope=t,this.$rootScope=n,this.$sce=i,this.$location=r,this.$element=a,this.$sceDelegate=o,this.$filter=s,this.$timeout=l,this.calendar={},this.$scope.$watch(function(e){return function(t,n,i){return e.$scope.main.currentStep}}(this),function(e){return function(t,n,i){if(e.$iElement=$(e.$element),2===(t=parseInt(t)))return e.init()}}(this))}return e.prototype.card_hover=function(e,t){return this.$scope.cards_two.card_hover="mouseover"===e.type?t:""},e.prototype.init=function(){var e,t;return this.calendar={},t=new Date,(e=new Date).setFullYear(e.getFullYear()-18),t.setFullYear(t.getFullYear()-90),this.initCal=function(n){return function(){return n.calendar=n.$iElement.find(".ui.calendar").calendar({type:"date",firstDayOfWeek:1,ampm:!1,minDate:t,maxDate:e,initialDate:t,touchReadonly:!1,disableMinute:!0,popupOptions:{position:"top right",lastResort:"top right"},className:{prevIcon:"open icon left",nextIcon:"open icon right"},text:{days:["В","П","В","С","Ч","П","С"],months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthsShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],today:"Сегодня",now:"Сейчас",am:"AM",pm:"PM"},onChange:function(e,t,i){return n.$scope.$storage.strgData.bday=t},formatter:{date:function(e,t){var n,i,r;return e?(n=""+e.getDate(),i=""+(e.getMonth()+1),n=n.length<2?"0"+e.getDate():""+e.getDate(),i=i.length<2?"0"+(e.getMonth()+1):""+(e.getMonth()+1),r=""+e.getFullYear(),n+"."+i+"."+r):""}}}),n.initMask()}}(this),this.$timeout(function(e){return function(){return e.initCal()}}(this))},e.prototype.prevStep=function(){return this.$scope.main.$location.path("/s1"),this.$scope.main.loading=!0},e.prototype.nextStep=function(){var e;if(e=$(this.$element).find(".ui.form"),(e=e.data("module-form"))&&e.is.valid()){if(this.$scope.main.loading=!0,this.$location.path("/s3"),!this.$scope.$$phase)return this.$scope.$apply()}else if(e)return e.validate.form()},e.prototype.initMask=function(){var e,t,n,i;return void 0===this.$scope.$storage.strgData.aggree&&(this.$scope.$storage.strgData.aggree=!0),e=[39,50,63,66,67,68,73,91,92,93,94,95,96,97,98,99],t=function(){var t,i,r;for(r=[],t=0,i=e.length;t<i;t++)n=e[t],r.push({mask:"+38 (0"+n+") ###-##-##",cc:"UA",cd:"Ukraine"});return r}(),$('input[name="phone"]').inputmask({alias:"abstractphone",countrycode:"38",phoneCodes:t,showMaskOnHover:!1,oncomplete:function(e){return function(t){return e.$scope.$storage.strgData.phone=t.target.value}}(this)}),i={mask:"(09|19|29|30|31).(09|10|11|12).9999",greedy:!1,showMaskOnHover:!1,oncomplete:function(e){return function(t){return e.$scope.$storage.strgData.bday=t.target.value}}(this)},$('input[name="bday"]').inputmask(i),i={mask:"U{1,64} (U{1,64})|(U{1,64} U{1,64})",greedy:!1,showMaskOnHover:!1,oncomplete:function(e){return function(t){return e.$scope.$storage.strgData.name=t.target.value}}(this)},$('input[name="fullname"]').inputmask(i),this.$scope.main.loading=!1,$(this.$element).find(".ui.form").form({inline:!0,on:"blur",fields:{fullname:{identifier:"fullname",rules:[{type:"regExp[/^([а-яёієыї\\-\\']+\\s[а-яёієыї\\-\\']+)?(\\s[а-яёієыї\\-\\']+)?$/i]",prompt:"Введены недопустимые символы"},{type:"empty",prompt:"Укажите Имя и Фамилию"}]},bday:{identifier:"bday",rules:[{type:"regExp[/^\\d{2}[\\.]\\d{2}[\\.]\\d{4}$/i]",prompt:"Неправильная дата рождения"}]},phone:{identifier:"phone",rules:[{type:"empty",prompt:"Неправильный номер телефона"}]},aggree:{identifier:"aggree",rules:[{type:"checked",prompt:"Так мы не сможем обработать Ваш запрос"}]}}})},e}();var twoCardsStepController;twoCardsStepController=function(){return function(e,t,n,i,r,a){this.$http=e,this.$scope=t,this.$sce=n,this.$window=i,this.$element=r,this.$attrs=a,this.card_hover="",this.content=[],this.content.push({icon:"user",title:"Получите +15%",text:this.$sce.trustAsHtml("к вероятности одобрения кредита, заполнив фамилию, имя и отчество.")}),this.content.push({icon:"smartphone-text",title:"Зачем давать номер телефона?",text:this.$sce.trustAsHtml("Для связи. Представитель банка позвонит вам, чтобы обсудить условия кредита.")}),this.content.push({icon:"adult",title:"А возраст им зачем?",text:this.$sce.trustAsHtml("Перед выдачей денег ваш возраст проверят по паспорту. Если вам не исполнилось 18, то шансов получить кредит нет.")})}}();var threeStepController;threeStepController=function(){function e(e,t,n,i,r,a,o,s,l){this.$http=e,this.$scope=t,this.$rootScope=n,this.$sce=i,this.$location=r,this.$element=a,this.$sceDelegate=o,this.$filter=s,this.$timeout=l,this.data={cities:{},employments:{}},this.$scope.$watch(function(e){return function(t,n,i){return e.$scope.main.currentStep}}(this),function(e){return function(t,n,i){if(e.$iElement=$(e.$element),3===(t=parseInt(t)))return e.data.employments={},e.data.cities={},e.init("cities",function(e){return e&&"success"===e.result&&(this.data.cities=e.data),this.init("employments",function(e){if(e&&"success"===e.result)return this.data.employments=e.data})})}}(this)),this.$scope.$watch(function(e){return function(t,n,i){return e.data}}(this),function(e){return function(t,n,i){if(Object.size(e.data.cities)&&Object.size(e.data.employments))return e.update()}}(this),!0)}return e.prototype.card_hover=function(e,t){return this.$scope.cards_three.card_hover="mouseover"===e.type?t:""},e.prototype.prevStep=function(){return this.$scope.main.loading=!0,this.data.employments={},this.data.cities={},this.$scope.main.$location.path("/s2")},e.prototype.nextStep=function(){var e,t;return t=$(this.$element).find(".ui.form"),(t=t.data("module-form"))&&t.is.valid()?(this.$scope.main.loading=!0,e={aims:this.$scope.$storage.strgData.aims,amount:this.$scope.$storage.strgData.amount,name:this.$scope.$storage.strgData.name,phone:this.$scope.$storage.strgData.phone,bday:this.$scope.$storage.strgData.bday,employment:this.$scope.$storage.strgData.employment,city:this.$scope.$storage.strgData.city,utime:(new Date).getTime()},this.$scope.$storage.strgData.noinn||(e.inn=this.$scope.$storage.strgData.inn),!0===this.$rootScope.settings.api.debug&&(e.result=""+!1),this.data.employments={},this.data.cities={},this.post(e,function(e){return function(t){if(e.$location.path("/request"),e.$scope.main.statusReq="success"===(null!=t?t.result:void 0),e.$scope.$storage.$reset(),!e.$scope.$$phase)return e.$scope.$apply()}}(this))):t?t.validate.form():void 0},e.prototype.update=function(){var e,t,n;return e=this.$iElement.find(".ui.dropdown.city").dropdown({selectOnKeydown:!1,allowReselection:!0,forceSelection:!1,hideAdditions:!1,allowAdditions:!0,message:{addResult:"<b>{term}</b>",noResults:"Ничего не найдено."},onChange:function(e){return function(t,n,i){return e.$scope.$storage.strgData.city=n,e.$scope.$storage.strgData.city_val=t}}(this)}),t=this.$iElement.find(".ui.dropdown.employment").dropdown({onChange:function(e){return function(t,n,i){return e.$scope.$storage.strgData.employment=t}}(this)}),this.$iElement.find(".ui.checkbox.noinn").checkbox().first().checkbox({fireOnInit:!0,onChecked:function(e){return function(){return e.$scope.$storage.strgData.noinn=!0,e.chngMsg("remove")}}(this),onUnchecked:function(e){return function(){return e.$scope.$storage.strgData.noinn=!1,e.chngMsg("add")}}(this)}),this.$scope.$storage.strgData.city_val&&this.$timeout(function(t){return function(){return e.data("module-dropdown").set.selected(t.$scope.$storage.strgData.city)}}(this)),this.$scope.$storage.strgData.employment&&this.$timeout(function(e){return function(){return t.data("module-dropdown").set.selected(e.$scope.$storage.strgData.employment)}}(this)),n={mask:"U{1,128}",greedy:!1,showMaskOnHover:!1,oncomplete:function(e){return function(t){return e.$scope.$storage.strgData.city=t.target.value}}(this)},$('input[name="city"], .ui.dropdown input.search').inputmask(n),n={mask:"9999999999",greedy:!1,showMaskOnHover:!1,oncomplete:function(e){return function(t){return e.$scope.$storage.strgData.inn=t.target.value}}(this),onKeyDown:function(e){return function(t){return e.$scope.$storage.strgData.inn=t.target.value}}(this)},$('input[name="inn"]').inputmask(n),$(this.$element).find(".ui.form").form({inline:!0,on:"blur",fields:{employment:{identifier:"employment",rules:[{type:"empty",prompt:"Выберите трудоустройство"}]},city:{identifier:"city",rules:[{type:"empty",prompt:"Введите ваш город"}]}}}),this.chngMsg("add"),this.$scope.main.loading=!1},e.prototype.chngMsg=function(e){var t,n;return n=$(this.$element).find(".ui.form"),t=this.$iElement.find(".ui.button.submit"),"add"===e?(n.form("add rule","inn",{rules:[{type:"integer[10...10]",prompt:"Неправильный ИНН"}]}),t.popup({transition:"horizontal flip",position:"right center",target:"#inn",content:"Без ИНН шансы на получение кредита значительно уменьшаются. Часть банков не будет рассматривать заявку, если отправить её без ИНН."})):(n.form("remove fields",["inn"]),n.form("validate field","inn"),t.popup("destroy"))},e.prototype.init=function(e,t){var n,i,r;if(this.fn=t,e)return i={data:e},r=this.$sceDelegate.trustAs(this.$sce.RESOURCE_URL,""+this.$rootScope.settings.api.url+this.$rootScope.settings.api.command.list),n=function(e){return function(t){return"function"==typeof e.fn?e.fn(t.data):void 0}}(this),this.$http.jsonp(r,{params:i}).then(n,n)},e.prototype.post=function(e,t){var n,i,r;if(this.fn=t,e)return i={data:e},r=this.$sceDelegate.trustAs(this.$sce.RESOURCE_URL,""+this.$rootScope.settings.api.url+this.$rootScope.settings.api.command.put),n=function(e){return function(t){return"function"==typeof e.fn?e.fn(t.data):void 0}}(this),this.$http.jsonp(r,{params:i}).then(n,n)},e}();var threeCardsStepController;threeCardsStepController=function(){return function(e,t,n,i,r,a){this.$http=e,this.$scope=t,this.$sce=n,this.$window=i,this.$element=r,this.$attrs=a,this.card_hover="",this.content=[],this.content.push({icon:"marker-map",title:"Подберём банки в вашем городе",text:this.$sce.trustAsHtml("Мы предложим кредиты в банках, у которых есть отделения в вашем городе или в ближайшем райцентре, если вы живёте в посёлке или селе. Украинские банки не дают кредиты жителям зоны АТО и Крыма.")}),this.content.push({icon:"code",title:"Для чего банку ваш ИНН",text:this.$sce.trustAsHtml("Finance.ua соблюдает Закон Украины “О защите персональных данных”. Кроме банков и кредитных компаний ваш ИНН никто не получит. Банку индивидуальный налоговый номер нужен для проверки клиента. С помощью ИНН банк может узнать кредитную историю заёмщика, или проверить выплаты в пенсионный фонд.")})}}(),angular.module("finance-directives",["ngMask"]).directive("firstStep",function(){return{restrict:"E",templateUrl:"template/form_step1.html",controller:["$http","$scope","$rootScope","$sce","$location","$element","$sceDelegate","$filter","$timeout",firstStepController],controllerAs:"form_first"}}).directive("twoStep",function(){return{restrict:"E",templateUrl:"template/form_step2.html",controller:["$http","$scope","$rootScope","$sce","$location","$element","$sceDelegate","$filter","$timeout",twoStepController],controllerAs:"form_two"}}).directive("threeStep",function(){return{restrict:"E",templateUrl:"template/form_step3.html",controller:["$http","$scope","$rootScope","$sce","$location","$element","$sceDelegate","$filter","$timeout",threeStepController],controllerAs:"form_three"}}).directive("firstCardsStep",function(){return{restrict:"E",templateUrl:"template/cards_step1.html",controller:["$http","$scope","$sce","$window","$element","$attrs",firstCardsStepController],controllerAs:"cards_first"}}).directive("twoCardsStep",function(){return{restrict:"E",templateUrl:"template/cards_step2.html",controller:["$http","$scope","$sce","$window","$element","$attrs",twoCardsStepController],controllerAs:"cards_two"}}).directive("threeCardsStep",function(){return{restrict:"E",templateUrl:"template/cards_step3.html",controller:["$http","$scope","$sce","$window","$element","$attrs",threeCardsStepController],controllerAs:"cards_three"}});var financeClassAppController;financeClassAppController=function(){function e(e,t,n,i,r,a,o,s,l,c){this.$rootScope=e,this.$scope=t,this.$location=i,this.$window=r,this.$timeout=a,this.$route=o,this.$http=s,this.$sceDelegate=l,this.$sce=c,this.$scope.$storage=this.$storage=n.$default({strgData:{amount:5e3}}),this.loading=!0,this.statusReq=!1,this.currentStep=1,this.maxStep=3,this.$scope.$on("$locationChangeStart",function(e){return function(t,n,i,r,a){var o,s,l,c,u;return u=new RegExp(/\d$/),c=new RegExp(/\w+\d?$/),l=u.exec(e.$location.path()),s=c.exec(e.$location.path()),e.currentStep=(null!=l?l.length:void 0)?l[0]:1,"request"!==(o=(null!=s?s.length:void 0)?s[0]:null)&&e.sendEvent(o),"request"===o&&(e.currentStep=o),"request"===o&&e.sendEvent(e.statusReq?o+".success":o+".error"),e.$scope.$$phase||e.$scope.$apply(),e.$timeout(function(){if(1===e.currentStep&&e.init(),"request"===o&&$("html, body").animate({scrollTop:0},600),"request"===o)return $('input[name="email"]').inputmask({alias:"email",showMaskOnHover:!1,oncomplete:function(t){return e.$scope.emailSubscr=t.target.value}}),e.$scope.main.loading=!1})}}(this)),$(function(e){return function(){return e.init()}}(this))}return e.prototype.sendSubscr=function(e){var t,n,i,r,a;if((t=$("input[name=email]")).length&&(t=t[0]),(null!=(r=t.inputmask)?r.isValid():void 0)&&(null!=(a=t.inputmask)?a.isComplete():void 0))return this.$scope.main.loading=!0,this.$scope.$$phase||this.$scope.$apply(),i={email:this.$scope.emailSubscr},n=function(e){return function(t){if(e.$scope.main.loading=!1,e.$scope.main.respMsg=e.msgSubscr(t.data),$(".ui.page.dimmer").dimmer("show"),e.$scope.emailSubscr="",!e.$scope.$$phase)return e.$scope.$apply()}}(this),this.$http.get(this.$rootScope.settings.apiSubscr.url,{params:i}).then(n,n)},e.prototype.msgSubscr=function(e){switch(e){case"Some fields are missing.":return"Заполните поле E-mail.";case"Invalid email address.":return"Недействительный адрес электронной почты.";case"Invalid list ID.":return"Недействительный идентификатор подписки.";case"Already subscribed.":return"Вы уже подписаны.";case"You're subscribed!":return"Вы подписаны на наши новости!";default:return"Извините, не удалось подписаться. Пожалуйста, повторите попытку позже!"}},e.prototype.init=function(){return $(".ui.clients .ui.images").slick({infinite:!0,centerMode:!0,autoplay:!0,accessibility:!1,prevArrow:'<button class="slick-prev button icon basic" aria-label="Previous" type="button"></button>',nextArrow:'<button class="slick-next button icon basic" aria-label="Next" type="button"></button>',slideTrack:'<div class="slick-track images"/>',speed:400,slidesToShow:4,slidesToScroll:1,responsive:[{breakpoint:1199,settings:{slidesToShow:3,slidesToScroll:1,arrows:!1}},{breakpoint:1e3,settings:{slidesToShow:2,slidesToScroll:1,arrows:!1}},{breakpoint:768,settings:{autoplay:!1,slidesToShow:1,slidesToScroll:1,arrows:!0}}]}),$(".ui.sidebar").sidebar("attach events",".toc.item").sidebar("setting","dimPage",!0).sidebar("setting","transition","push").sidebar("setting","useLegacy",!0),$(".ui.accordion").accordion(),$(".main.container").visibility({once:!1,onOffScreen:function(e){return $(".menu .computer-only .ui.button").transition("scale in")},onOnScreen:function(e){var t;if(!(t=$(".menu .computer-only .ui.button")).hasClass("hidden"))return t.transition("scale out")}})},e.prototype.titleStep=function(){return"Шаг "+this.currentStep+" из "+this.maxStep},e.prototype.scrollTo=function(e,t){return $("html, body").animate({scrollTop:$(t).offset().top},600)},e.prototype.sendEvent=function(e){return e=Object.get(this.$rootScope.settings.events,e),this.$window.dispatchEvent(e)},e}();var financeApp;(financeApp=angular.module("financeApp",["finance-directives","ngRoute","ngSanitize","ngStorage"])).config(["$sceDelegateProvider","$localStorageProvider","$locationProvider",function(e,t,n){var i,r,a,o;return e.resourceUrlWhitelist(["self","http://credits*.finance.ua/api/**"]),n.html5Mode(!0),t.setKeyPrefix("financeStorage-"),o=t.get("strgTime"),a=t.get("strgData"),r=new Date,o?(i=new Date(null!=o?o.time:void 0),r.getTime()>i.getTime()&&(t.remove("strgData"),i=r.getDateAdd(r,"day",1).toISOString())):(i=r.getDateAdd(r,"day",1).toISOString(),a&&t.remove("strgData")),t.set("strgTime",{time:i})}]),financeApp.run(["$rootScope","$http","$location",function(e,t,n){var i;return n.path("/s1"),t.defaults.headers.common.Accept="application/json",t.defaults.headers.common["Content-Type"]="application/json; charset=UTF-8",t.defaults.headers.common["Access-Control-Allow-Origin"]="*",e.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile/i.test(navigator.userAgent),i={detail:{time:new Date},bubbles:!0,cancelable:!0},e.settings={apiSubscr:{url:"/subscribe/"},api:{debug:!0,url:"//credits.finance.ua/api/",command:{list:"list",put:"submit"}},events:{s1:new CustomEvent("eventWidgetStep1",i),s2:new CustomEvent("eventWidgetStep2",i),s3:new CustomEvent("eventWidgetStep3",i),request:{success:new CustomEvent("eventWidgetSuccess",i),error:new CustomEvent("eventWidgetError",i)},transitionEvent:function(){var e,t,n,i,r;e=document.createElement("element"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in i)if(r=i[t],void 0!==e.style[t])return n=r;return n}}},$(document).ready(function(){return $("#page-preloader").addClass("loaded").on(e.settings.events.transitionEvent(),function(e){return $(e.currentTarget).remove()})})}]),financeApp.controller("financeAppController",["$rootScope","$scope","$localStorage","$location","$window","$timeout","$route","$http","$sceDelegate","$sce",financeClassAppController]);