 /*
 * # Semantic UI - 2.2.11
 * https://github.com/Semantic-Org/Semantic-UI
 * http://www.semantic-ui.com/
 *
 * Copyright 2014 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
!function(e,t){"use strict";function n(e,t){if(o(e)){t=t||[];for(var n=0,i=e.length;n<i;n++)t[n]=e[n]}else if(s(e)){t=t||{};for(var r in e)"$"===r.charAt(0)&&"$"===r.charAt(1)||(t[r]=e[r])}return t||e}function i(e){c&&e.get("$route")}function r(e,n,i){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(r,a,o,s,l){function u(){d&&(i.cancel(d),d=null),p&&(p.$destroy(),p=null),f&&((d=i.leave(f)).done(function(e){!1!==e&&(d=null)}),f=null)}function c(){var o=e.current&&e.current.locals,s=o&&o.$template;if(t.isDefined(s)){var c=r.$new(),d=e.current,m=l(c,function(e){i.enter(e,null,f||a).done(function(e){!1===e||!t.isDefined(h)||h&&!r.$eval(h)||n()}),u()});f=m,(p=d.scope=c).$emit("$viewContentLoaded"),p.$eval(v)}else u()}var p,f,d,h=o.autoscroll,v=o.onload||"";r.$on("$routeChangeSuccess",c),c()}}}function a(e,t,n){return{restrict:"ECA",priority:-400,link:function(i,r){var a=n.current,o=a.locals;r.html(o.$template);var s=e(r.contents());if(a.controller){o.$scope=i;var l=t(a.controller,o);a.controllerAs&&(i[a.controllerAs]=l),r.data("$ngControllerController",l),r.children().data("$ngControllerController",l)}i[a.resolveAs||"$resolve"]=o,s(i)}}}var o,s,l,u,c,p=t.module("ngRoute",[]).info({angularVersion:"1.6.5"}).provider("$route",function(){function e(e,n){return t.extend(Object.create(e),n)}function i(e,t){var n=t.caseInsensitiveMatch,i={originalPath:e,regexp:e},r=i.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[?*])?/g,function(e,t,n,i){var a="?"===i||"*?"===i?"?":null,o="*"===i||"*?"===i?"*":null;return r.push({name:n,optional:!!a}),t=t||"",(a?"":t)+"(?:"+(a?t:"")+(o&&"(.+?)"||"([^/]+)")+(a||"")+")"+(a||"")}).replace(/([/$*])/g,"\\$1"),i.regexp=new RegExp("^"+e+"$",n?"i":""),i}o=t.isArray,s=t.isObject,l=t.isDefined,u=t.noop;var r={};this.when=function(e,a){var o=n(a);if(t.isUndefined(o.reloadOnSearch)&&(o.reloadOnSearch=!0),t.isUndefined(o.caseInsensitiveMatch)&&(o.caseInsensitiveMatch=this.caseInsensitiveMatch),r[e]=t.extend(o,e&&i(e,o)),e){var s="/"===e[e.length-1]?e.substr(0,e.length-1):e+"/";r[s]=t.extend({redirectTo:e},i(s,o))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(e){return"string"==typeof e&&(e={redirectTo:e}),this.when(null,e),this},c=!0,this.eagerInstantiationEnabled=function(e){return l(e)?(c=e,this):c},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce","$browser",function(n,i,a,o,s,l,c,p){function d(e,t){var n=t.keys,i={};if(!t.regexp)return null;var r=t.regexp.exec(e);if(!r)return null;for(var a=1,o=r.length;a<o;++a){var s=n[a-1],l=r[a];s&&l&&(i[s.name]=l)}return i}function h(e){var i=_.current;w=$(),(x=w&&i&&w.$$route===i.$$route&&t.equals(w.pathParams,i.pathParams)&&!w.reloadOnSearch&&!S)||!i&&!w||n.$broadcast("$routeChangeStart",w,i).defaultPrevented&&e&&e.preventDefault()}function v(){var e=_.current,i=w;if(x)e.params=i.params,t.copy(e.params,a),n.$broadcast("$routeUpdate",e);else if(i||e){S=!1,_.current=i;var r=o.resolve(i);p.$$incOutstandingRequestCount(),r.then(m).then(g).then(function(o){return o&&r.then(k).then(function(r){i===_.current&&(i&&(i.locals=r,t.copy(i.params,a)),n.$broadcast("$routeChangeSuccess",i,e))})}).catch(function(t){i===_.current&&n.$broadcast("$routeChangeError",i,e,t)}).finally(function(){p.$$completeOutstandingRequest(u)})}}function m(e){var n={route:e,hasRedirection:!1};if(e)if(e.redirectTo)if(t.isString(e.redirectTo))n.path=b(e.redirectTo,e.params),n.search=e.params,n.hasRedirection=!0;else{var r=i.path(),a=i.search(),l=e.redirectTo(e.pathParams,r,a);t.isDefined(l)&&(n.url=l,n.hasRedirection=!0)}else if(e.resolveRedirectTo)return o.resolve(s.invoke(e.resolveRedirectTo)).then(function(e){return t.isDefined(e)&&(n.url=e,n.hasRedirection=!0),n});return n}function g(e){var t=!0;if(e.route!==_.current)t=!1;else if(e.hasRedirection){var n=i.url(),r=e.url;r?i.url(r).replace():r=i.path(e.path).search(e.search).replace().url(),r!==n&&(t=!1)}return t}function k(e){if(e){var n=t.extend({},e.resolve);t.forEach(n,function(e,i){n[i]=t.isString(e)?s.get(e):s.invoke(e,null,null,i)});var i=y(e);return t.isDefined(i)&&(n.$template=i),o.all(n)}}function y(e){var n,i;return t.isDefined(n=e.template)?t.isFunction(n)&&(n=n(e.params)):t.isDefined(i=e.templateUrl)&&(t.isFunction(i)&&(i=i(e.params)),t.isDefined(i)&&(e.loadedTemplateUrl=c.valueOf(i),n=l(i))),n}function $(){var n,a;return t.forEach(r,function(r,o){!a&&(n=d(i.path(),r))&&((a=e(r,{params:t.extend({},i.search(),n),pathParams:n})).$$route=r)}),a||r[null]&&e(r[null],{params:{},pathParams:{}})}function b(e,n){var i=[];return t.forEach((e||"").split(":"),function(e,t){if(0===t)i.push(e);else{var r=e.match(/(\w+)(?:[?*])?(.*)/),a=r[1];i.push(n[a]),i.push(r[2]||""),delete n[a]}}),i.join("")}var w,x,S=!1,_={routes:r,reload:function(){S=!0;var e={defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0,S=!1}};n.$evalAsync(function(){h(e),e.defaultPrevented||v()})},updateParams:function(e){if(!this.current||!this.current.$$route)throw f("norout","Tried updating route when with no current route");e=t.extend({},this.current.params,e),i.path(b(this.current.$$route.originalPath,e)),i.search(e)}};return n.$on("$locationChangeStart",h),n.$on("$locationChangeSuccess",v),_}]}).run(i),f=t.$$minErr("ngRoute");i.$inject=["$injector"],p.provider("$routeParams",function(){this.$get=function(){return{}}}),p.directive("ngView",r),p.directive("ngView",a),r.$inject=["$route","$anchorScroll","$animate"],a.$inject=["$compile","$controller","$route"]}(window,window.angular),function(e,t,n){"use strict";var i={routes:{},debug:!1},r=function(e,n){var r=this,a=function(e){var n={};return t.forEach(e,function(e,t){var i=function(){return e.controller};i.$inject=[];var r=function(t){return t.get(e.template)};r.$inject=["$templateCache"],n[t]={controllerProvider:i,templateProvider:r}}),n},o=function(i,r,s){var l={url:"/"+r};if(i.params){var u={};t.forEach(i.params,function(e,t){l.url+="/:"+t,u[t]={value:e},null===u[t].value&&(u[t].squash=!0)}),l.params=u}if(i.abstract&&(l.abstract=i.abstract),i.views&&(l.views=a(i.views)),e.state(s,l),i.default){var c=function(e){e.go(s)};c.$inject=["$state"],n.otherwise(function(e){e.invoke(c)})}i.child&&t.forEach(i.child,function(e,t){o(e,t,s+"."+t)})},s=function(e,n){return{start:function(){t.forEach(i.routes,function(e,t){o(e,t,t)})}}};s.$inject=["$injector","$templateCache"],r.$get=s,r.config=function(e){t.forEach(e,function(t,n){i[n]=e[n]})}};r.$inject=["$stateProvider","$urlRouterProvider"],t.module("routes.provider",["ui.router"]).provider("$routes",r)}(window,window.angular),function(e,t){"use strict";function n(e){var t=[];return p(t,l).chars(e),t.join("")}var i,r,a,o,s,l,u,c,p,f=t.$$minErr("$sanitize");t.module("ngSanitize",[]).provider("$sanitize",function(){function n(e,t){var n,i={},r=e.split(",");for(n=0;n<r.length;n++)i[t?s(r[n]):r[n]]=!0;return i}function d(e){for(var t={},n=0,i=e.length;n<i;n++){var r=e[n];t[r.name]=r.value}return t}function h(e){return e.replace(/&/g,"&amp;").replace(k,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(y,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function v(t){for(;t;){if(t.nodeType===e.Node.ELEMENT_NODE)for(var n=t.attributes,i=0,r=n.length;i<r;i++){var a=n[i],o=a.name.toLowerCase();"xmlns:ns1"!==o&&0!==o.lastIndexOf("ns1:",0)||(t.removeAttributeNode(a),i--,r--)}var s=t.firstChild;s&&v(s),t=m("nextSibling",t)}}function m(e,t){var n=t[e];if(n&&u.call(t,n))throw f("elclob","Failed to sanitize html because the element is clobbered: {0}",t.outerHTML||t.outerText);return n}var g=!1;this.$get=["$$sanitizeUri",function(e){return g&&r(E,P),function(t){var n=[];return c(t,p(n,function(t,n){return!/^unsafe:/.test(e(t,n))})),n.join("")}}],this.enableSvg=function(e){return o(e)?(g=e,this):g},i=t.bind,r=t.extend,a=t.forEach,o=t.isDefined,s=t.lowercase,l=t.noop,c=function(e,t){null===e||void 0===e?e="":"string"!=typeof e&&(e=""+e);var n=j(e);if(!n)return"";var i=5;do{if(0===i)throw f("uinput","Failed to sanitize html because the input is unstable");i--,e=n.innerHTML,n=j(e)}while(e!==n.innerHTML);for(var r=n.firstChild;r;){switch(r.nodeType){case 1:t.start(r.nodeName.toLowerCase(),d(r.attributes));break;case 3:t.chars(r.textContent)}var a;if(!((a=r.firstChild)||(1===r.nodeType&&t.end(r.nodeName.toLowerCase()),a=m("nextSibling",r))))for(;null==a&&(r=m("parentNode",r))!==n;)a=m("nextSibling",r),1===r.nodeType&&t.end(r.nodeName.toLowerCase());r=a}for(;r=n.firstChild;)n.removeChild(r)},p=function(e,t){var n=!1,r=i(e,e.push);return{start:function(e,i){e=s(e),!n&&C[e]&&(n=e),n||!0!==E[e]||(r("<"),r(e),a(i,function(n,i){var a=s(i),o="img"===e&&"src"===a||"background"===a;!0!==O[a]||!0===A[a]&&!t(n,o)||(r(" "),r(i),r('="'),r(h(n)),r('"'))}),r(">"))},end:function(e){e=s(e),n||!0!==E[e]||!0===$[e]||(r("</"),r(e),r(">")),e==n&&(n=!1)},chars:function(e){n||r(h(e))}}},u=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))};var k=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,y=/([^#-~ |!])/g,$=n("area,br,col,hr,img,wbr"),b=n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),w=n("rp,rt"),x=r({},w,b),S=r({},b,n("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),_=r({},w,n("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),P=n("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),C=n("script,style"),E=r({},$,S,_,x),A=n("background,cite,href,longdesc,src,xlink:href"),M=n("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),D=n("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),O=r({},A,D,M),j=function(e,t){var n;if(!t||!t.implementation)throw f("noinert","Can't create an inert html document");var i=((n=t.implementation.createHTMLDocument("inert")).documentElement||n.getDocumentElement()).querySelector("body");return i.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',i.querySelector("svg")?(i.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',i.querySelector("svg img")?function(t){t="<remove></remove>"+t;try{var n=(new e.DOMParser).parseFromString(t,"text/html").body;return n.firstChild.remove(),n}catch(e){return}}:function(e){return i.innerHTML=e,t.documentMode&&v(i),i}):function(t){t="<remove></remove>"+t;try{t=encodeURI(t)}catch(e){return}var n=new e.XMLHttpRequest;n.responseType="document",n.open("GET","data:text/html;charset=utf-8,"+t,!1),n.send(null);var i=n.response.body;return i.firstChild.remove(),i}}(e,e.document)}).info({angularVersion:"1.6.5"}),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var i=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,r=/^mailto:/i,a=t.$$minErr("linky"),o=t.isDefined,s=t.isFunction,l=t.isObject,u=t.isString;return function(t,c,p){function f(e){e&&k.push(n(e))}if(null==t||""===t)return t;if(!u(t))throw a("notstring","Expected string but received: {0}",t);for(var d,h,v,m=s(p)?p:l(p)?function(){return p}:function(){return{}},g=t,k=[];d=g.match(i);)h=d[0],d[2]||d[4]||(h=(d[3]?"http://":"mailto:")+h),v=d.index,f(g.substr(0,v)),function(e,t){var n,i=m(e);k.push("<a ");for(n in i)k.push(n+'="'+i[n]+'" ');!o(c)||"target"in i||k.push('target="',c,'" '),k.push('href="',e.replace(/"/g,"&quot;"),'">'),f(t),k.push("</a>")}(h,d[0].replace(r,"")),g=g.substring(v+d[0].length);return f(g),e(k.join(""))}}])}(window,window.angular),function(e,t){"use strict";"function"==typeof define&&define.amd?define(["angular"],t):e.hasOwnProperty("angular")?t(e.angular):"object"==typeof exports&&(module.exports=t(require("angular")))}(this,function(e){"use strict";function t(e,t){var n;try{n=e[t]}catch(e){n=!1}if(n){var i="__"+Math.round(1e7*Math.random());try{e[t].setItem(i,i),e[t].removeItem(i,i)}catch(e){n=!1}}return n}function n(n){var i=t(window,n);return function(){var r="ngStorage-";this.setKeyPrefix=function(e){if("string"!=typeof e)throw new TypeError("[ngStorage] - "+n+"Provider.setKeyPrefix() expects a String.");r=e};var a=e.toJson,o=e.fromJson;this.setSerializer=function(e){if("function"!=typeof e)throw new TypeError("[ngStorage] - "+n+"Provider.setSerializer expects a function.");a=e},this.setDeserializer=function(e){if("function"!=typeof e)throw new TypeError("[ngStorage] - "+n+"Provider.setDeserializer expects a function.");o=e},this.supported=function(){return!!i},this.get=function(e){return i&&o(i.getItem(r+e))},this.set=function(e,t){return i&&i.setItem(r+e,a(t))},this.remove=function(e){i&&i.removeItem(r+e)},this.$get=["$rootScope","$window","$log","$timeout","$document",function(i,s,l,u,c){var p,f,d=r.length,h=t(s,n),v=h||(l.warn("This browser does not support Web Storage!"),{setItem:e.noop,getItem:e.noop,removeItem:e.noop}),m={$default:function(t){for(var n in t)e.isDefined(m[n])||(m[n]=e.copy(t[n]));return m.$sync(),m},$reset:function(e){for(var t in m)"$"===t[0]||delete m[t]&&v.removeItem(r+t);return m.$default(e)},$sync:function(){for(var e,t=0,n=v.length;t<n;t++)(e=v.key(t))&&r===e.slice(0,d)&&(m[e.slice(d)]=o(v.getItem(e)))},$apply:function(){var t;if(f=null,!e.equals(m,p)){t=e.copy(p),e.forEach(m,function(n,i){e.isDefined(n)&&"$"!==i[0]&&(v.setItem(r+i,a(n)),delete t[i])});for(var n in t)v.removeItem(r+n);p=e.copy(m)}},$supported:function(){return!!h}};return m.$sync(),p=e.copy(m),i.$watch(function(){f||(f=u(m.$apply,100,!1))}),s.addEventListener&&s.addEventListener("storage",function(t){if(t.key){var n=c[0];n.hasFocus&&n.hasFocus()||r!==t.key.slice(0,d)||(t.newValue?m[t.key.slice(d)]=o(t.newValue):delete m[t.key.slice(d)],p=e.copy(m),i.$apply())}}),s.addEventListener&&s.addEventListener("beforeunload",function(){m.$apply()}),m}]}}return(e=e&&e.module?e:window.angular).module("ngStorage",[]).provider("$localStorage",n("localStorage")).provider("$sessionStorage",n("sessionStorage"))}),function(){"use strict";angular.module("ngMask",[])}(),function(){"use strict";angular.module("ngMask").directive("mask",["$log","$timeout","MaskService",function(e,t,n){return{restrict:"A",require:"ngModel",compile:function(i,r){function a(e){"number"==typeof e&&(t.cancel(o),o=t(function(){var t=e+1,n=i[0];if(n.setSelectionRange)n.focus(),n.setSelectionRange(e,t);else if(n.createTextRange){var r=n.createTextRange();r.collapse(!0),r.moveEnd("character",t),r.moveStart("character",e),r.select()}}))}{if(r.mask&&r.ngModel){var o,s,l=n.create();return{pre:function(e,t,n,i){s=l.generateRegex({mask:n.mask,repeat:n.repeat||n.maskRepeat,clean:"true"===(n.clean||n.maskClean),limit:"true"===(n.limit||n.maskLimit||"true"),restrict:n.restrict||n.maskRestrict||"select",validate:"true"===(n.validate||n.maskValidate||"true"),model:n.ngModel,value:n.ngValue})},post:function(n,i,r,o){function u(t){var n=t;p=l.getOptions(),t=t||"";var i=l.getViewValue(t),r=p.maskWithoutOptionals||"",s=i.withDivisors(!0),u=i.withoutDivisors(!0);try{var c=l.getRegex(s.length-1),f=l.getRegex(r.length-1),d=c.test(s)||f.test(s),h=t.length-s.length==1,v=r.length-s.length>0;if("accept"!==p.restrict)if("select"!==p.restrict||d&&!h)"reject"!==p.restrict||d||(s=(i=l.removeWrongPositions(s)).withDivisors(!0),u=i.withoutDivisors(!0));else{var m=t[t.length-1];m!==s[s.length-1]&&v&&(s+=m);var g=l.getFirstWrongPosition(s);angular.isDefined(g)&&a(g)}p.limit||(s=i.withDivisors(!1),u=i.withoutDivisors(!1)),p.validate&&o.$dirty&&(f.test(s)||o.$isEmpty(n)?o.$setValidity("mask",!0):o.$setValidity("mask",!1)),t!==s&&(o.$setViewValue(angular.copy(s),"input"),o.$render())}catch(t){throw e.error("[mask - parseViewValue]"),t}return p.clean?u:s}var c,p=l.getOptions(),f=function(){u(),o.$parsers.push(u),p.value&&n.$evalAsync(function(e){o.$setViewValue(angular.copy(p.value),"input"),o.$render()})};i.on("click input paste keyup",function(){c=t(function(){t.cancel(c),u(i.val()),n.$apply()},100)});var d=n.$watch(r.ngModel,function(e,t){angular.isDefined(e)&&(u(e),d())});n.$watch(function(){return[r.mask]},function(){(s=l.generateRegex({mask:r.mask,repeat:r.repeat||r.maskRepeat,clean:"true"===(r.clean||r.maskClean),limit:"true"===(r.limit||r.maskLimit||"true"),restrict:r.restrict||r.maskRestrict||"select",validate:"true"===(r.validate||r.maskValidate||"true"),model:r.ngModel,value:r.ngValue}).then(function(){i.triggerHandler("click")})).then(f)},!0),s.then(f)}}}e.info("Mask and ng-model attributes are required!")}}}}])}(),function(){"use strict";angular.module("ngMask").factory("MaskService",["$q","OptionalService","UtilService",function(e,t,n){return{create:function(){function i(e,t){var n;try{var i=v[e],r=S[i],a=o(e);r?n="("+r.source+")":(s(e)||(b.push(e),w[e]=i),n="(\\"+i+")")}catch(e){throw e}return(a||t)&&(n+="?"),new RegExp(n)}function r(e,t){var n,a;try{var s=i(e,t);n=s;var l=o(e),u=s.source;l&&e+1<m&&(u+=r(e+1,!0).elementOptionalRegex().source),a=new RegExp(u)}catch(e){throw e}return{elementRegex:function(){return n},elementOptionalRegex:function(){return a}}}function a(e){var t;try{t=x[e]?x[e].source:""}catch(e){throw e}return new RegExp("^"+t+"$")}function o(e){return n.inArray(e,k)}function s(e){return n.inArray(e,b)}function l(){function e(e,t){return e-t}for(var t=b.sort(e),n=k.sort(e),i=0;i<t.length;i++)for(var r=t[i],a=1;a<=n.length&&!(n[a-1]>=r);a++)y[r]?y[r]=y[r].concat(r-a):y[r]=[r-a],w[r-a]=w[r]}function u(e){e=e.toString();try{if(b.length>0&&e){for(var t=Object.keys(w),i=[],r=t.length-1;r>=0;r--){var a=w[t[r]];a&&i.push(a)}i=n.uniqueArray(i);var o=new RegExp("[\\"+i.join("\\")+"]","g");return e.replace(o,"")}return e}catch(e){throw e}}function c(e,t){function i(e,t){for(var n=t,i=0;i<e.length;i++){var r=e[i];r<n.length&&n.splice(r,0,w[r])}return n}var r=e,a=b.filter(function(e){var i=Object.keys(y).map(function(e){return parseInt(e)});return!n.inArray(e,t)&&!n.inArray(e,i)});return angular.isArray(e)&&angular.isArray(t)?(r=i(a,r),r=i(t,r)):r}function p(e){var t=e.split(""),i=!0;if(k.length>0){for(var r=[],o=Object.keys(y),s=0;s<o.length;s++){var l=y[o[s]];r.push(l)}for(0===$.length&&n.lazyProduct(r,function(){$.push(Array.prototype.slice.call(arguments))}),s=$.length-1;s>=0;s--){var u=angular.copy(t),p=(u=c(u,$[s])).join("");if(a(v.length-1).test(p)){i=!1,t=u;break}}}return i&&(t=c(t,b)),t.join("")}function f(e){try{var t=u(e),n=p(t);return{withDivisors:function(e){return e?n.substr(0,m):n},withoutDivisors:function(e){return e?t.substr(0,g):t}}}catch(e){throw e}}function d(e,t){var n=[];if(!e)return 0;for(var i=0;i<e.length;i++){var r=a(i),o=e.substr(0,i+1);if(r&&!r.test(o)&&(n.push(i),t))break}return n}var h,v,m=0,g=0,k=[],y={},$=[],b=[],w={},x=[],S={9:/[0-9]/,8:/[0-8]/,7:/[0-7]/,6:/[0-6]/,5:/[0-5]/,4:/[0-4]/,3:/[0-3]/,2:/[0-2]/,1:/[0-1]/,0:/[0]/,"*":/./,w:/\w/,W:/\W/,d:/\d/,D:/\D/,s:/\s/,S:/\S/,b:/\b/,A:/[A-Z]/,a:/[a-z]/,Z:/[A-ZÇÀÁÂÃÈÉÊẼÌÍÎĨÒÓÔÕÙÚÛŨ]/,z:/[a-zçáàãâéèêẽíìĩîóòôõúùũüû]/,"@":/[a-zA-Z]/,"#":/[a-zA-ZçáàãâéèêẽíìĩîóòôõúùũüûÇÀÁÂÃÈÉÊẼÌÍÎĨÒÓÔÕÙÚÛŨ]/,"%":/[0-9a-zA-ZçáàãâéèêẽíìĩîóòôõúùũüûÇÀÁÂÃÈÉÊẼÌÍÎĨÒÓÔÕÙÚÛŨ]/};return{getViewValue:f,generateRegex:function(n){var i=e.defer();v=null,m=0,g=0,k=[],y={},$=[],b=[],w={},x=[],h=n;try{var a=n.mask,o=n.repeat;if(!a)return;o&&(a=Array(parseInt(o)+1).join(a)),k=t.getOptionals(a).fromMaskWithoutOptionals(),h.maskWithoutOptionals=v=t.removeOptionals(a),m=v.length;for(var s,c=0;c<m;c++){var p=r(c),f=p.elementRegex(),d=p.elementOptionalRegex(),S=s?s.source+d.source:d.source;S=new RegExp(S),s=s?s.source+f.source:f.source,s=new RegExp(s),x.push(S)}l(),g=u(v).length,i.resolve({options:h,divisors:b,divisorElements:w,optionalIndexes:k,optionalDivisors:y,optionalDivisorsCombinations:$})}catch(e){throw i.reject(e),e}return i.promise},getRegex:a,getOptions:function(){return h},removeDivisors:u,getFirstWrongPosition:function(e){return d(e,!0)[0]},removeWrongPositions:function(e){for(var t=d(e,!1),n=e,i=0;i<t.length;i++){var r=t[i],a=e.split("");a.splice(r,1),n=a.join("")}return f(n)}}}}}])}(),function(){"use strict";angular.module("ngMask").factory("OptionalService",[function(){function e(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]-n);return t}return{removeOptionals:function(e){var t;try{t=e.replace(/\?/g,"")}catch(e){throw e}return t},getOptionals:function(t){var n=[];try{for(var i=/\?/g,r=[];null!=(r=i.exec(t));)n.push(r.index-1)}catch(e){throw e}return{fromMask:function(){return n},fromMaskWithoutOptionals:function(){return e(n)}}}}}])}(),function(){"use strict";angular.module("ngMask").factory("UtilService",[function(){return{lazyProduct:function(e,t,n){function i(s){var l=e[s],u=o[s];if(s===a)for(c=0;c<u;++c)r[s]=l[c],t.apply(n,r);else for(var c=0;c<u;++c)r[s]=l[c],i(s+1);r.pop()}n||(n=this);for(var r=[],a=e.length-1,o=[],s=e.length;s--;)o[s]=e[s].length;i(0)},inArray:function(e,t){var n;try{n=t.indexOf(e)>-1}catch(e){throw e}return n},uniqueArray:function(e){for(var t={},n=[],i=0,r=e.length;i<r;++i)t.hasOwnProperty(e[i])||(n.push(e[i]),t[e[i]]=1);return n}}}])}(),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(e){var t=document.createElement("input"),n="on"+e,i=n in t;return i||(t.setAttribute(n,"return;"),i="function"==typeof t[n]),t=null,i}function n(e){var t="text"==e||"tel"==e;if(!t){var n=document.createElement("input");n.setAttribute("type",e),t="text"===n.type,n=null}return t}function i(t,n,r){var a=r.aliases[t];return!!a&&(a.alias&&i(a.alias,void 0,r),e.extend(!0,r,a),e.extend(!0,r,n),!0)}function r(t,n){function i(n){function i(e,t,n,i){this.matches=[],this.isGroup=e||!1,this.isOptional=t||!1,this.isQuantifier=n||!1,this.isAlternator=i||!1,this.quantifier={min:1,max:1}}function r(n,i,r){var a=t.definitions[i],o=0==n.matches.length;if(r=void 0!=r?r:n.matches.length,a&&!f){a.placeholder=e.isFunction(a.placeholder)?a.placeholder.call(this,t):a.placeholder;for(var s=a.prevalidator,l=s?s.length:0,u=1;u<a.cardinality;u++){var c=l>=u?s[u-1]:[],p=c.validator,d=c.cardinality;n.matches.splice(r++,0,{fn:p?"string"==typeof p?new RegExp(p):new function(){this.test=p}:new RegExp("."),cardinality:d||1,optionality:n.isOptional,newBlockMarker:o,casing:a.casing,def:a.definitionSymbol||i,placeholder:a.placeholder,mask:i})}n.matches.splice(r++,0,{fn:a.validator?"string"==typeof a.validator?new RegExp(a.validator):new function(){this.test=a.validator}:new RegExp("."),cardinality:a.cardinality,optionality:n.isOptional,newBlockMarker:o,casing:a.casing,def:a.definitionSymbol||i,placeholder:a.placeholder,mask:i})}else n.matches.splice(r++,0,{fn:null,cardinality:0,optionality:n.isOptional,newBlockMarker:o,casing:null,def:i,placeholder:void 0,mask:i}),f=!1}for(var a,o,s,l,u,c,p=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})\??|[^.?*+^${[]()|\\]+|./g,f=!1,d=new i,h=[],v=[];a=p.exec(n);)switch((o=a[0]).charAt(0)){case t.optionalmarker.end:case t.groupmarker.end:if(s=h.pop(),h.length>0){if((l=h[h.length-1]).matches.push(s),l.isAlternator){u=h.pop();for(w=0;w<u.matches.length;w++)u.matches[w].isGroup=!1;h.length>0?(l=h[h.length-1]).matches.push(u):d.matches.push(u)}}else d.matches.push(s);break;case t.optionalmarker.start:h.push(new i(!1,!0));break;case t.groupmarker.start:h.push(new i(!0));break;case t.quantifiermarker.start:var m=new i(!1,!1,!0),g=(o=o.replace(/[{}]/g,"")).split(","),k=isNaN(g[0])?g[0]:parseInt(g[0]),y=1==g.length?k:isNaN(g[1])?g[1]:parseInt(g[1]);if(("*"==y||"+"==y)&&(k="*"==y?0:1),m.quantifier={min:k,max:y},h.length>0){var $=h[h.length-1].matches;(a=$.pop()).isGroup||((b=new i(!0)).matches.push(a),a=b),$.push(a),$.push(m)}else{if(!(a=d.matches.pop()).isGroup){var b=new i(!0);b.matches.push(a),a=b}d.matches.push(a),d.matches.push(m)}break;case t.escapeChar:f=!0;break;case t.alternatormarker:h.length>0?(l=h[h.length-1],c=l.matches.pop()):c=d.matches.pop(),c.isAlternator?h.push(c):((u=new i(!1,!1,!1,!0)).matches.push(c),h.push(u));break;default:if(h.length>0){if((l=h[h.length-1]).matches.length>0&&!l.isAlternator&&(c=l.matches[l.matches.length-1]).isGroup&&(c.isGroup=!1,r(c,t.groupmarker.start,0),r(c,t.groupmarker.end)),r(l,o),l.isAlternator){u=h.pop();for(var w=0;w<u.matches.length;w++)u.matches[w].isGroup=!1;h.length>0?(l=h[h.length-1]).matches.push(u):d.matches.push(u)}}else d.matches.length>0&&(c=d.matches[d.matches.length-1]).isGroup&&(c.isGroup=!1,r(c,t.groupmarker.start,0),r(c,t.groupmarker.end)),r(d,o)}return d.matches.length>0&&((c=d.matches[d.matches.length-1]).isGroup&&(c.isGroup=!1,r(c,t.groupmarker.start,0),r(c,t.groupmarker.end)),v.push(d)),v}function r(r,a){if(void 0!=r&&""!=r){if(1==r.length&&0==t.greedy&&0!=t.repeat&&(t.placeholder=""),t.repeat>0||"*"==t.repeat||"+"==t.repeat){var o="*"==t.repeat?0:"+"==t.repeat?1:t.repeat;r=t.groupmarker.start+r+t.groupmarker.end+t.quantifiermarker.start+o+","+t.repeat+t.quantifiermarker.end}var s;return void 0==e.inputmask.masksCache[r]||!0===n?(s={mask:r,maskToken:i(r),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:a},!0!==n&&(e.inputmask.masksCache[r]=s)):s=e.extend(!0,{},e.inputmask.masksCache[r]),s}}function a(e){if(e=e.toString(),t.numericInput){e=e.split("").reverse();for(var n=0;n<e.length;n++)e[n]==t.optionalmarker.start?e[n]=t.optionalmarker.end:e[n]==t.optionalmarker.end?e[n]=t.optionalmarker.start:e[n]==t.groupmarker.start?e[n]=t.groupmarker.end:e[n]==t.groupmarker.end&&(e[n]=t.groupmarker.start);e=e.join("")}return e}var o=void 0;if(e.isFunction(t.mask)&&(t.mask=t.mask.call(this,t)),e.isArray(t.mask)){if(t.mask.length>1){t.keepStatic=void 0==t.keepStatic||t.keepStatic;var s="(";return e.each(t.mask,function(t,n){s.length>1&&(s+=")|("),s+=a(void 0==n.mask||e.isFunction(n.mask)?n:n.mask)}),s+=")",r(s,t.mask)}t.mask=t.mask.pop()}return t.mask&&(o=void 0==t.mask.mask||e.isFunction(t.mask.mask)?r(a(t.mask),t.mask):r(a(t.mask.mask),t.mask)),o}function a(i,r,a){function o(e,t,n){t=t||0;var i,r,a,o=[],s=0;do{if(!0===e&&p().validPositions[s]){var l=p().validPositions[s];r=l.match,i=l.locator.slice(),o.push(!0===n?l.input:O(s,r))}else a=m(s,i,s-1),r=a.match,i=a.locator.slice(),o.push(O(s,r));s++}while((void 0==ne||ne>s-1)&&null!=r.fn||null==r.fn&&""!=r.def||t>=s);return o.pop(),o}function p(){return r}function f(e){var t=p();t.buffer=void 0,t.tests={},!0!==e&&(t._buffer=void 0,t.validPositions={},t.p=0)}function d(e,t){var n=-1,i=p().validPositions;void 0==e&&(e=-1);var r=n,a=n;for(var o in i){var s=parseInt(o);i[s]&&(t||null!=i[s].match.fn)&&(e>=s&&(r=s),s>=e&&(a=s))}return n=-1!=r&&e-r>1||e>a?r:a}function h(t,n,i){if(a.insertMode&&void 0!=p().validPositions[t]&&void 0==i){var r,o=e.extend(!0,{},p().validPositions),s=d();for(r=t;s>=r;r++)delete p().validPositions[r];p().validPositions[t]=n;var l,u=!0,c=p().validPositions;for(r=l=t;s>=r;r++){var f=o[r];if(void 0!=f)for(var h=l;h<C()&&(null==f.match.fn&&c[r]&&(!0===c[r].match.optionalQuantifier||!0===c[r].match.optionality)||null!=f.match.fn);){if(null==f.match.fn||!a.keepStatic&&c[r]&&(void 0!=c[r+1]&&y(r+1,c[r].locator.slice(),r).length>1||void 0!=c[r].alternation)?h++:h=E(l),k(h,f.match.def)){u=!1!==_(h,f.input,!0,!0),l=h;break}u=null==f.match.fn}if(!u)break}if(!u)return p().validPositions=e.extend(!0,{},o),!1}else p().validPositions[t]=n;return!0}function v(e,t,n,i){var r,o=e;for(p().p=e,void 0!=p().validPositions[e]&&p().validPositions[e].input==a.radixPoint&&(t++,o++),r=o;t>r;r++)void 0!=p().validPositions[r]&&(!0===n||0!=a.canClearPosition(p(),r,d(),i,a))&&delete p().validPositions[r];for(f(!0),r=o+1;r<=d();){for(;void 0!=p().validPositions[o];)o++;var s=p().validPositions[o];o>r&&(r=o+1);var l=p().validPositions[r];void 0!=l&&void 0==s?(k(o,l.match.def)&&!1!==_(o,l.input,!0)&&(delete p().validPositions[r],r++),o++):r++}var u=d(),c=C();for(u>=e&&void 0!=p().validPositions[u]&&p().validPositions[u].input==a.radixPoint&&delete p().validPositions[u],r=u+1;c>=r;r++)p().validPositions[r]&&delete p().validPositions[r];f(!0)}function m(e,t,n){var i=p().validPositions[e];if(void 0==i)for(var r=y(e,t,n),o=d(),s=p().validPositions[o]||y(0,void 0,void 0)[0],l=void 0!=s.alternation?s.locator[s.alternation].toString().split(","):[],u=0;u<r.length&&!((i=r[u]).match&&(a.greedy&&!0!==i.match.optionalQuantifier||(!1===i.match.optionality||!1===i.match.newBlockMarker)&&!0!==i.match.optionalQuantifier)&&(void 0==s.alternation||void 0!=i.locator[s.alternation]&&S(i.locator[s.alternation].toString().split(","),l)));u++);return i}function g(e){return p().validPositions[e]?p().validPositions[e].match:y(e)[0].match}function k(e,t){for(var n=!1,i=y(e),r=0;r<i.length;r++)if(i[r].match&&i[r].match.def==t){n=!0;break}return n}function y(t,n,i,r){function a(n,i,r,o){function l(r,o,d){if(s>1e4)return alert("jquery.inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+p().mask),!0;if(s==t&&void 0==r.matches)return u.push({match:r,locator:o.reverse()}),!0;if(void 0!=r.matches){if(r.isGroup&&!0!==d){if(r=l(n.matches[f+1],o))return!0}else if(r.isOptional){var h=r;if(r=a(r,i,o,d)){var v=u[u.length-1].match;if(!(R=0==e.inArray(v,h.matches)))return!0;c=!0,s=t}}else if(r.isAlternator){var m,g=r,k=[],y=u.slice(),$=o.length,b=i.length>0?i.shift():-1;if(-1==b||"string"==typeof b){var w,x=s,S=i.slice();"string"==typeof b&&(w=b.split(","));for(var _=0;_<g.matches.length;_++){u=[],r=l(g.matches[_],[_].concat(o),d)||r,m=u.slice(),s=x,u=[];for(var P=0;P<S.length;P++)i[P]=S[P];for(var C=0;C<m.length;C++){var E=m[C];E.alternation=$;for(var A=0;A<k.length;A++){var M=k[A];if(E.match.mask==M.match.mask&&("string"!=typeof b||-1!=e.inArray(E.locator[$].toString(),w))){m.splice(C,1),M.locator[$]=M.locator[$]+","+E.locator[$],M.alternation=$;break}}}k=k.concat(m)}"string"==typeof b&&(k=e.map(k,function(t,n){if(isFinite(n)){var i=t.locator[$].toString().split(",");t.locator[$]=void 0,t.alternation=void 0;for(var r=0;r<i.length;r++)-1!=e.inArray(i[r],w)&&(void 0!=t.locator[$]?(t.locator[$]+=",",t.locator[$]+=i[r]):t.locator[$]=parseInt(i[r]),t.alternation=$);if(void 0!=t.locator[$])return t}})),u=y.concat(k),s=t,c=!0}else r=l(g.matches[b],[b].concat(o),d);if(r)return!0}else if(r.isQuantifier&&!0!==d)for(var D=r,O=i.length>0&&!0!==d?i.shift():0;O<(isNaN(D.quantifier.max)?O+1:D.quantifier.max)&&t>=s;O++){var j=n.matches[e.inArray(D,n.matches)-1];if(r=l(j,[O].concat(o),!0)){(v=u[u.length-1].match).optionalQuantifier=O>D.quantifier.min-1;var R=0==e.inArray(v,j.matches);if(R){if(O>D.quantifier.min-1){c=!0,s=t;break}return!0}return!0}}else if(r=a(r,i,o,d))return!0}else s++}for(var f=i.length>0?i.shift():0;f<n.matches.length;f++)if(!0!==n.matches[f].isQuantifier){var d=l(n.matches[f],[f].concat(r),o);if(d&&s==t)return d;if(s>t)break}}var o=p().maskToken,s=n?i:0,l=n||[0],u=[],c=!1;if(void 0==n){for(var f,d=t-1;void 0==(f=p().validPositions[d])&&d>-1;)d--;if(void 0!=f&&d>-1)s=d,l=f.locator.slice();else{for(d=t-1;void 0==(f=p().tests[d])&&d>-1;)d--;void 0!=f&&d>-1&&(s=d,l=f[0].locator.slice())}}for(var h=l.shift();h<o.length&&!(a(o[h],l,[h])&&s==t||s>t);h++);return(0==u.length||c)&&u.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:""},locator:[]}),p().tests[t]=e.extend(!0,[],u),p().tests[t]}function $(){return void 0==p()._buffer&&(p()._buffer=o(!1,1)),p()._buffer}function b(){return void 0==p().buffer&&(p().buffer=o(!0,d(),!0)),p().buffer}function w(e,t,n){if(n=n||b().slice(),!0===e)f(),e=0,t=n.length;else for(i=e;t>i;i++)delete p().validPositions[i],delete p().tests[i];for(var i=e;t>i;i++)n[i]!=a.skipOptionalPartCharacter&&_(i,n[i],!0,!0)}function x(e,t){switch(t.casing){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return e}function S(t,n){for(var i=a.greedy?n:n.slice(0,1),r=!1,o=0;o<t.length;o++)if(-1!=e.inArray(t[o],i)){r=!0;break}return r}function _(t,n,i,r){function o(t,n,i,r){var o=!1;return e.each(y(t),function(s,l){for(var u=l.match,c=n?1:0,m="",g=(b(),u.cardinality);g>c;g--)m+=M(t-(g-1));if(n&&(m+=n),!1!==(o=null!=u.fn?u.fn.test(m,p(),t,i,a):(n==u.def||n==a.skipOptionalPartCharacter)&&""!=u.def&&{c:u.def,pos:t})){var k=void 0!=o.c?o.c:n;k=k==a.skipOptionalPartCharacter&&null===u.fn?u.def:k;var y=t,$=b();if(void 0!=o.remove&&(e.isArray(o.remove)||(o.remove=[o.remove]),e.each(o.remove.sort(function(e,t){return t-e}),function(e,t){v(t,t+1,!0)})),void 0!=o.insert&&(e.isArray(o.insert)||(o.insert=[o.insert]),e.each(o.insert.sort(function(e,t){return e-t}),function(e,t){_(t.pos,t.c,!0)})),o.refreshFromBuffer){var S=o.refreshFromBuffer;if(i=!0,w(!0===S?S:S.start,S.end,$),void 0==o.pos&&void 0==o.c)return o.pos=d(),!1;if((y=void 0!=o.pos?o.pos:t)!=t)return o=e.extend(o,_(y,k,!0)),!1}else if(!0!==o&&void 0!=o.pos&&o.pos!=t&&(y=o.pos,w(t,y),y!=t))return o=e.extend(o,_(y,k,!0)),!1;return(1==o||void 0!=o.pos||void 0!=o.c)&&(s>0&&f(!0),h(y,e.extend({},l,{input:x(k,u)}),r)||(o=!1),!1)}}),o}i=!0===i;for(var s=b(),l=t-1;l>-1&&!p().validPositions[l];l--);for(l++;t>l;l++)void 0==p().validPositions[l]&&((!P(l)||s[l]!=O(l))&&y(l).length>1||s[l]==a.radixPoint||"0"==s[l]&&e.inArray(a.radixPoint,s)<l)&&o(l,s[l],!0);var u=t,c=!1,m=e.extend(!0,{},p().validPositions);if(u<C()&&(c=o(u,n,i,r),(!i||r)&&!1===c)){var g=p().validPositions[u];if(!g||null!=g.match.fn||g.match.def!=n&&n!=a.skipOptionalPartCharacter){if((a.insertMode||void 0==p().validPositions[E(u)])&&!P(u))for(var k=u+1,$=E(u);$>=k;k++)if(!1!==(c=o(k,n,i,r))){(function(t,n){for(var i=p().validPositions[n].locator,r=i.length,a=t;n>a;a++)if(!P(a)){var o=y(a),s=o[0],l=-1;e.each(o,function(e,t){for(var n=0;r>n;n++)t.locator[n]&&S(t.locator[n].toString().split(","),i[n].toString().split(","))&&n>l&&(l=n,s=t)}),h(a,e.extend({},s,{input:s.match.def}),!0)}})(u,k),u=k;break}}else c={caret:E(u)}}return!1===c&&a.keepStatic&&W(s)&&(c=function(t,n,i,r){var o,s,l,u,c=e.extend(!0,{},p().validPositions);for(o=d();o>=0;o--)if((u=p().validPositions[o])&&void 0!=u.alternation&&u.locator[u.alternation].length>1){s=p().validPositions[o].alternation;break}if(void 0!=s)for(var h in p().validPositions)if(u=p().validPositions[h],parseInt(h)>parseInt(o)&&u.alternation){for(var v=u.locator[s],m=p().validPositions[o].locator[s].toString().split(","),g=0;g<m.length;g++)if(v<m[g]){for(var k,y,$=h-1;$>=0;$--)if(void 0!=(k=p().validPositions[$])){y=k.locator[s],k.locator[s]=parseInt(m[g]);break}if(v!=k.locator[s]){for(var b=[],w=h;w<d()+1;w++){var x=p().validPositions[w];x&&null!=x.match.fn&&b.push(x.input),delete p().validPositions[w],delete p().tests[w]}for(f(!0),a.keepStatic=!a.keepStatic,l=!0;b.length>0;){var S=b.shift();if(S!=a.skipOptionalPartCharacter&&!(l=_(d()+1,S,!1,!0)))break}if(k.alternation=s,k.locator[s]=y,l&&(l=_(t,n,i,r)),a.keepStatic=!a.keepStatic,l)return l;f(),p().validPositions=e.extend(!0,{},c)}}break}return!1}(t,n,i,r)),!0===c&&(c={pos:u}),!e.isFunction(a.postValidation)||0==c||i||(f(!0),a.postValidation(b(),a))?c:(f(!0),p().validPositions=e.extend(!0,{},m),!1)}function P(e){var t=g(e);if(null!=t.fn)return t.fn;if(!a.keepStatic&&void 0==p().validPositions[e]){for(var n=y(e),i=!0,r=0;r<n.length;r++)if(""!=n[r].match.def&&(null!==n[r].match.fn||void 0==n[r].alternation||n[r].locator[n[r].alternation].length>1)){i=!1;break}return i}return!1}function C(){var e;-1==(ne=te.prop("maxLength"))&&(ne=void 0);var t,n=d(),i=p().validPositions[n],r=void 0!=i?i.locator.slice():void 0;for(t=n+1;void 0==i||null!=i.match.fn||null==i.match.fn&&""!=i.match.def;t++)i=m(t,r,t-1),r=i.locator.slice();return e=""!=g(t-1).def?t:t-1,void 0==ne||ne>e?e:ne}function E(e){var t=C();if(e>=t)return t;for(var n=e;++n<t&&!P(n)&&(!0!==a.nojumps||a.nojumpsThreshold>n););return n}function A(e){var t=e;if(0>=t)return 0;for(;--t>0&&!P(t););return t}function M(e){return void 0==p().validPositions[e]?O(e):p().validPositions[e].input}function D(t,n,i,r,o){if(r&&e.isFunction(a.onBeforeWrite)){var s=a.onBeforeWrite.call(t,r,n,i,a);if(s){if(s.refreshFromBuffer){var l=s.refreshFromBuffer;w(!0===l?l:l.start,l.end,s.buffer),f(!0),n=b()}i=s.caret||i}}t._valueSet(n.join("")),void 0!=i&&I(t,i),!0===o&&(ae=!0,e(t).trigger("input"))}function O(e,t){if(void 0!=(t=t||g(e)).placeholder)return t.placeholder;if(null==t.fn){if(!a.keepStatic&&void 0==p().validPositions[e]){for(var n=y(e),i=!0,r=0;r<n.length;r++)if(""!=n[r].match.def&&(null!==n[r].match.fn||void 0==n[r].alternation||n[r].locator[n[r].alternation].length>1)){i=!1;break}if(i)return a.placeholder.charAt(e%a.placeholder.length)}return t.def}return a.placeholder.charAt(e%a.placeholder.length)}function j(t,n,i,r){function a(){var e=!1,t=$().slice(l,E(l)).join("").indexOf(s);if(-1!=t&&!P(l)){e=!0;for(var n=$().slice(l,l+t),i=0;i<n.length;i++)if(" "!=n[i]){e=!1;break}}return e}var o=void 0!=r?r.slice():t._valueGet().split(""),s="",l=0;if(f(),p().p=E(-1),n&&t._valueSet(""),!i){var u=$().slice(0,E(-1)).join(""),c=o.join("").match(new RegExp(R(u),"g"));c&&c.length>0&&(o.splice(0,c.length*u.length),l=E(l))}e.each(o,function(n,r){var o=e.Event("keypress");o.which=r.charCodeAt(0),s+=r;var u=d(void 0,!0),c=p().validPositions[u],f=m(u+1,c?c.locator.slice():void 0,u);if(!a()||i){var h=i?n:null==f.match.fn&&f.match.optionality&&u+1<p().p?u+1:p().p;K.call(t,o,!0,!1,i,h),l=h+1,s=""}else K.call(t,o,!0,!1,!0,u+1)}),n&&D(t,b(),e(t).is(":focus")?E(d(0)):void 0,e.Event("checkval"))}function R(t){return e.inputmask.escapeRegex(t)}function T(t){if(t.data("_inputmask")&&!t.hasClass("hasDatepicker")){var n=[],i=p().validPositions;for(var r in i)i[r].match&&null!=i[r].match.fn&&n.push(i[r].input);var o=(ie?n.reverse():n).join(""),s=(ie?b().slice().reverse():b()).join("");return e.isFunction(a.onUnMask)&&(o=a.onUnMask.call(t,s,o,a)||o),o}return t[0]._valueGet()}function F(e){return!ie||"number"!=typeof e||a.greedy&&""==a.placeholder||(e=b().length-e),e}function I(t,n,i){var r,o=t.jquery&&t.length>0?t[0]:t;if("number"!=typeof n)return o.setSelectionRange?(n=o.selectionStart,i=o.selectionEnd):window.getSelection?(r=window.getSelection().getRangeAt(0)).commonAncestorContainer.parentNode==o&&(n=r.startOffset,i=r.endOffset):document.selection&&document.selection.createRange&&(r=document.selection.createRange(),n=0-r.duplicate().moveStart("character",-1e5),i=n+r.text.length),{begin:F(n),end:F(i)};if(n=F(n),i=F(i),i="number"==typeof i?i:n,e(o).is(":visible")){var s=e(o).css("font-size").replace("px","")*i;if(o.scrollLeft=s>o.scrollWidth?s:0,l||0!=a.insertMode||n!=i||i++,o.setSelectionRange)o.selectionStart=n,o.selectionEnd=i;else if(window.getSelection){(r=document.createRange()).setStart(o.firstChild,n<o._valueGet().length?n:o._valueGet().length),r.setEnd(o.firstChild,i<o._valueGet().length?i:o._valueGet().length),r.collapse(!0);var u=window.getSelection();u.removeAllRanges(),u.addRange(r)}else o.createTextRange&&((r=o.createTextRange()).collapse(!0),r.moveEnd("character",i),r.moveStart("character",n),r.select())}}function G(t){var n,i,r=b(),a=r.length,o=d(),s={},l=p().validPositions[o],u=void 0!=l?l.locator.slice():void 0;for(n=o+1;n<r.length;n++)i=m(n,u,n-1),u=i.locator.slice(),s[n]=e.extend(!0,{},i);var c=l&&void 0!=l.alternation?l.locator[l.alternation]:void 0;for(n=a-1;n>o&&((i=s[n].match).optionality||i.optionalQuantifier||c&&c!=s[n].locator[l.alternation])&&r[n]==O(n,i);n--)a--;return t?{l:a,def:s[a]?s[a].match:void 0}:a}function L(e){for(var t=G(),n=e.length-1;n>t&&!P(n);n--);return e.splice(t,n+1-t),e}function W(t){if(e.isFunction(a.isComplete))return a.isComplete.call(te,t,a);if("*"!=a.repeat){var n=!1,i=G(!0),r=A(i.l);if(d(),void 0==i.def||i.def.newBlockMarker||i.def.optionality||i.def.optionalQuantifier){n=!0;for(var o=0;r>=o;o++){var s=P(o),l=g(o);if(s&&void 0==p().validPositions[o]&&!0!==l.optionality&&!0!==l.optionalQuantifier||!s&&t[o]!=O(o)){n=!1;break}}}return n}}function H(e,t){return ie?e-t>1||e-t==1&&a.insertMode:t-e>1||t-e==1&&a.insertMode}function U(t){var n=e._data(t).events,i=!1;e.each(n,function(t,n){e.each(n,function(e,t){if("inputmask"==t.namespace&&"setvalue"!=t.type){var n=t.handler;t.handler=function(e){if(!this.disabled&&(!this.readOnly||"keydown"==e.type&&e.ctrlKey&&67==e.keyCode)){switch(e.type){case"input":if(!0===ae||!0===i)return ae=!1,e.preventDefault();break;case"keydown":re=!1,i=!1;break;case"keypress":if(!0===re)return e.preventDefault();re=!0;break;case"compositionstart":i=!0;break;case"compositionupdate":ae=!0;break;case"compositionend":i=!1}return n.apply(this,arguments)}e.preventDefault()}}})})}function N(t){function n(){var t=e(this),n=e(this).data("_inputmask");return n?n.opts.autoUnmask?t.inputmask("unmaskedvalue"):r.call(this)!=$().join("")?r.call(this):"":r.call(this)}function i(t){var n=e(this).data("_inputmask");a.call(this,t),n&&e(this).triggerHandler("setvalue.inputmask")}var r,a;if(!t._valueGet){var o;Object.getOwnPropertyDescriptor&&void 0==t.value?(r=function(){return this.textContent},a=function(e){this.textContent=e},Object.defineProperty(t,"value",{get:n,set:i})):((o=Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(t,"value"))&&o.configurable,document.__lookupGetter__&&t.__lookupGetter__("value")?(r=t.__lookupGetter__("value"),a=t.__lookupSetter__("value"),t.__defineGetter__("value",n),t.__defineSetter__("value",i)):(r=function(){return t.value},a=function(e){t.value=e},function(t){if(void 0==e.valHooks[t]||1!=e.valHooks[t].inputmaskpatch){var n=e.valHooks[t]&&e.valHooks[t].get?e.valHooks[t].get:function(e){return e.value},i=e.valHooks[t]&&e.valHooks[t].set?e.valHooks[t].set:function(e,t){return e.value=t,e};e.valHooks[t]={get:function(t){var i=e(t);if(i.data("_inputmask")){if(i.data("_inputmask").opts.autoUnmask)return i.inputmask("unmaskedvalue");var r=n(t),a=i.data("_inputmask").maskset._buffer;return a=a?a.join(""):"",r!=a?r:""}return n(t)},set:function(t,n){var r,a=e(t),o=a.data("_inputmask");return r=i(t,n),o&&a.triggerHandler("setvalue.inputmask"),r},inputmaskpatch:!0}}}(t.type),function(t){e(t).bind("mouseenter.inputmask",function(){var t=e(this),n=this._valueGet();""!=n&&n!=b().join("")&&t.triggerHandler("setvalue.inputmask")});var n=e._data(t).events.mouseover;if(n){for(var i=n[n.length-1],r=n.length-1;r>0;r--)n[r]=n[r-1];n[0]=i}}(t))),t._valueGet=function(e){return ie&&!0!==e?r.call(this).split("").reverse().join(""):r.call(this)},t._valueSet=function(e){a.call(this,ie?e.split("").reverse().join(""):e)}}}function q(t,n,i,r){if((a.numericInput||ie)&&(n==e.inputmask.keyCode.BACKSPACE?n=e.inputmask.keyCode.DELETE:n==e.inputmask.keyCode.DELETE&&(n=e.inputmask.keyCode.BACKSPACE),ie)){var o=i.end;i.end=i.begin,i.begin=o}if(n==e.inputmask.keyCode.BACKSPACE&&(i.end-i.begin<1||0==a.insertMode)?i.begin=A(i.begin):n==e.inputmask.keyCode.DELETE&&i.begin==i.end&&(i.end=P(i.end)?i.end+1:E(i.end)+1),v(i.begin,i.end,!1,r),!0!==r){!function(){if(a.keepStatic){f(!0);var n,i=[],r=e.extend(!0,{},p().validPositions);for(n=d();n>=0;n--){var o=p().validPositions[n];if(o){if(void 0!=o.alternation&&o.locator[o.alternation]==m(n).locator[o.alternation])break;null!=o.match.fn&&i.push(o.input),delete p().validPositions[n]}}if(n>0)for(;i.length>0;){p().p=E(d());var s=e.Event("keypress");s.which=i.pop().charCodeAt(0),K.call(t,s,!0,!1,!1,p().p)}else p().validPositions=e.extend(!0,{},r)}}();var s=d(i.begin);s<i.begin?(-1==s&&f(),p().p=E(s)):p().p=i.begin}}function B(n){var i=this,r=e(i),o=n.keyCode,l=I(i);o==e.inputmask.keyCode.BACKSPACE||o==e.inputmask.keyCode.DELETE||s&&127==o||n.ctrlKey&&88==o&&!t("cut")?(n.preventDefault(),88==o&&(Y=b().join("")),q(i,o,l),D(i,b(),p().p,n,Y!=b().join("")),i._valueGet()==$().join("")?r.trigger("cleared"):!0===W(b())&&r.trigger("complete"),a.showTooltip&&r.prop("title",p().mask)):o==e.inputmask.keyCode.END||o==e.inputmask.keyCode.PAGE_DOWN?setTimeout(function(){var e=E(d());a.insertMode||e!=C()||n.shiftKey||e--,I(i,n.shiftKey?l.begin:e,e)},0):o==e.inputmask.keyCode.HOME&&!n.shiftKey||o==e.inputmask.keyCode.PAGE_UP?I(i,0,n.shiftKey?l.begin:0):(a.undoOnEscape&&o==e.inputmask.keyCode.ESCAPE||90==o&&n.ctrlKey)&&!0!==n.altKey?(j(i,!0,!1,Y.split("")),r.click()):o!=e.inputmask.keyCode.INSERT||n.shiftKey||n.ctrlKey?0!=a.insertMode||n.shiftKey||(o==e.inputmask.keyCode.RIGHT?setTimeout(function(){var e=I(i);I(i,e.begin)},0):o==e.inputmask.keyCode.LEFT&&setTimeout(function(){var e=I(i);I(i,ie?e.begin+1:e.begin-1)},0)):(a.insertMode=!a.insertMode,I(i,a.insertMode||l.begin!=C()?l.begin:l.begin-1)),a.onKeyDown.call(this,n,b(),I(i).begin,a),oe=-1!=e.inArray(o,a.ignorables)}function K(t,n,i,r,o){var s=this,l=e(s),u=t.which||t.charCode||t.keyCode;if(!(!0===n||t.ctrlKey&&t.altKey)&&(t.ctrlKey||t.metaKey||oe))return!0;if(u){46==u&&0==t.shiftKey&&","==a.radixPoint&&(u=44);var c,d=n?{begin:o,end:o}:I(s),v=String.fromCharCode(u),m=H(d.begin,d.end);m&&(p().undoPositions=e.extend(!0,{},p().validPositions),q(s,e.inputmask.keyCode.DELETE,d,!0),d.begin=p().p,a.insertMode||(a.insertMode=!a.insertMode,h(d.begin,r),a.insertMode=!a.insertMode),m=!a.multi),p().writeOutBuffer=!0;var g=ie&&!m?d.end:d.begin,k=_(g,v,r);if(!1!==k){if(!0!==k&&(g=void 0!=k.pos?k.pos:g,v=void 0!=k.c?k.c:v),f(!0),void 0!=k.caret)c=k.caret;else{var $=p().validPositions;c=!a.keepStatic&&(void 0!=$[g+1]&&y(g+1,$[g].locator.slice(),g).length>1||void 0!=$[g].alternation)?g+1:E(g)}p().p=c}if(!1!==i){var x=this;if(setTimeout(function(){a.onKeyValidation.call(x,k,a)},0),p().writeOutBuffer&&!1!==k){var S=b();D(s,S,n?void 0:a.numericInput?A(c):c,t,!0!==n),!0!==n&&setTimeout(function(){!0===W(S)&&l.trigger("complete")},0)}else m&&(p().buffer=void 0,p().validPositions=p().undoPositions)}else m&&(p().buffer=void 0,p().validPositions=p().undoPositions);if(a.showTooltip&&l.prop("title",p().mask),n&&e.isFunction(a.onBeforeWrite)){var P=a.onBeforeWrite.call(this,t,b(),c,a);if(P&&P.refreshFromBuffer){var C=P.refreshFromBuffer;w(!0===C?C:C.start,C.end,P.buffer),f(!0),P.caret&&(p().p=P.caret)}}t.preventDefault()}}function z(t){var n=this,i=e(n),r=n._valueGet(!0),o=I(n);if("propertychange"==t.type&&n._valueGet().length<=C())return!0;if("paste"==t.type){var s=r.substr(0,o.begin),l=r.substr(o.end,r.length);s==$().slice(0,o.begin).join("")&&(s=""),l==$().slice(o.end).join("")&&(l=""),window.clipboardData&&window.clipboardData.getData?r=s+window.clipboardData.getData("Text")+l:t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.getData&&(r=s+t.originalEvent.clipboardData.getData("text/plain")+l)}var u=r;if(e.isFunction(a.onBeforePaste)){if(!1===(u=a.onBeforePaste.call(n,r,a)))return t.preventDefault(),!1;u||(u=r)}return j(n,!0,!1,ie?u.split("").reverse():u.split("")),i.click(),!0===W(b())&&i.trigger("complete"),!1}function V(t){var n=this;j(n,!0,!1),!0===W(b())&&e(n).trigger("complete"),t.preventDefault()}function J(e){var t=this;Y=b().join(""),(""==ee||0!=e.originalEvent.data.indexOf(ee))&&(X=I(t))}function Q(t){var n=this,i=X||I(n);0==t.originalEvent.data.indexOf(ee)&&(f(),i={begin:0,end:0});var r=t.originalEvent.data;I(n,i.begin,i.end);for(var o=0;o<r.length;o++){var s=e.Event("keypress");s.which=r.charCodeAt(o),re=!1,oe=!1,K.call(n,s)}setTimeout(function(){var e=p().p;D(n,b(),a.numericInput?A(e):e)},0),ee=t.originalEvent.data}function Z(){}var Y,X,ee,te,ne,ie=!1,re=!1,ae=!1,oe=!1,se=!0;if(void 0!=i)switch(i.action){case"isComplete":return te=e(i.el),r=te.data("_inputmask").maskset,a=te.data("_inputmask").opts,W(i.buffer);case"unmaskedvalue":return te=i.$input,r=te.data("_inputmask").maskset,a=te.data("_inputmask").opts,ie=i.$input.data("_inputmask").isRTL,T(i.$input);case"mask":Y=b().join(""),function(t){if((te=e(t)).is(":input")&&n(te.attr("type"))||t.isContentEditable||te.is("div")){if(te.data("_inputmask",{maskset:r,opts:a,isRTL:!1}),a.showTooltip&&te.prop("title",p().mask),("rtl"==t.dir||a.rightAlign)&&te.css("text-align","right"),"rtl"==t.dir||a.numericInput){t.dir="ltr",te.removeAttr("dir");var i=te.data("_inputmask");i.isRTL=!0,te.data("_inputmask",i),ie=!0}te.unbind(".inputmask"),(te.is(":input")||t.isContentEditable)&&(te.closest("form").bind("submit",function(){Y!=b().join("")&&te.change(),te[0]._valueGet&&te[0]._valueGet()==$().join("")&&te[0]._valueSet(""),a.removeMaskOnSubmit&&te.inputmask("remove")}).bind("reset",function(){setTimeout(function(){te.triggerHandler("setvalue.inputmask")},0)}),te.bind("mouseenter.inputmask",function(){var t=this;!e(this).is(":focus")&&a.showMaskOnHover&&t._valueGet()!=b().join("")&&D(t,b())}).bind("blur.inputmask",function(t){var n=e(this),i=this;if(n.data("_inputmask")){var r=i._valueGet(),o=b().slice();se=!0,Y!=o.join("")&&setTimeout(function(){n.change(),Y=o.join("")},0),""!=r&&(a.clearMaskOnLostFocus&&(r==$().join("")?o=[]:L(o)),!1===W(o)&&(n.trigger("incomplete"),a.clearIncomplete&&(f(),o=a.clearMaskOnLostFocus?[]:$().slice())),D(i,o,void 0,t))}}).bind("focus.inputmask",function(){var t=(e(this),this),n=t._valueGet();a.showMaskOnFocus&&(!a.showMaskOnHover||a.showMaskOnHover&&""==n)&&t._valueGet()!=b().join("")&&D(t,b(),E(d())),Y=b().join("")}).bind("mouseleave.inputmask",function(){var t=e(this),n=this;if(a.clearMaskOnLostFocus){var i=b().slice(),r=n._valueGet();t.is(":focus")||r==t.attr("placeholder")||""==r||(r==$().join("")?i=[]:L(i),D(n,i))}}).bind("click.inputmask",function(){var t=this;if(e(this).is(":focus")){var n=I(t);if(n.begin==n.end)if(a.radixFocus&&""!=a.radixPoint&&-1!=e.inArray(a.radixPoint,b())&&(se||b().join("")==$().join("")))I(t,e.inArray(a.radixPoint,b())),se=!1;else{var i=ie?F(n.begin):n.begin,r=E(d(i));r>i?I(t,P(i)?i:E(i)):I(t,r)}}}).bind("dblclick.inputmask",function(){var e=this;setTimeout(function(){I(e,0,E(d()))},0)}).bind(c+".inputmask dragdrop.inputmask drop.inputmask",z).bind("cut.inputmask",function(t){ae=!0;var n=this,i=e(n),r=I(n);q(n,e.inputmask.keyCode.DELETE,r),D(n,b(),p().p,t,Y!=b().join("")),n._valueGet()==$().join("")&&i.trigger("cleared"),a.showTooltip&&i.prop("title",p().mask)}).bind("complete.inputmask",a.oncomplete).bind("incomplete.inputmask",a.onincomplete).bind("cleared.inputmask",a.oncleared),te.bind("keydown.inputmask",B).bind("keypress.inputmask",K),u||te.bind("compositionstart.inputmask",J).bind("compositionupdate.inputmask",Q).bind("compositionend.inputmask",Z),"paste"===c&&te.bind("input.inputmask",V)),te.bind("setvalue.inputmask",function(){var t=this,n=t._valueGet();t._valueSet(e.isFunction(a.onBeforeMask)?a.onBeforeMask.call(t,n,a)||n:n),j(t,!0,!1),Y=b().join(""),(a.clearMaskOnLostFocus||a.clearIncomplete)&&t._valueGet()==$().join("")&&t._valueSet("")}),N(t),j(t,!0,!1,(e.isFunction(a.onBeforeMask)?a.onBeforeMask.call(t,t._valueGet(),a)||t._valueGet():t._valueGet()).split(""));var o=b().slice();Y=o.join("");var s;try{s=document.activeElement}catch(e){}!1===W(o)&&a.clearIncomplete&&f(),a.clearMaskOnLostFocus&&(o.join("")==$().join("")?o=[]:L(o)),D(t,o),s===t&&I(t,E(d())),U(t)}}(i.el);break;case"format":(te=e({})).data("_inputmask",{maskset:r,opts:a,isRTL:a.numericInput}),a.numericInput&&(ie=!0);le=(e.isFunction(a.onBeforeMask)?a.onBeforeMask.call(te,i.value,a)||i.value:i.value).split("");return j(te,!1,!1,ie?le.reverse():le),e.isFunction(a.onBeforeWrite)&&a.onBeforeWrite.call(this,void 0,b(),0,a),i.metadata?{value:ie?b().slice().reverse().join(""):b().join(""),metadata:te.inputmask("getmetadata")}:ie?b().slice().reverse().join(""):b().join("");case"isValid":(te=e({})).data("_inputmask",{maskset:r,opts:a,isRTL:a.numericInput}),a.numericInput&&(ie=!0);var le=i.value.split("");j(te,!1,!0,ie?le.reverse():le);for(var ue=b(),ce=G(),pe=ue.length-1;pe>ce&&!P(pe);pe--);return ue.splice(ce,pe+1-ce),W(ue)&&i.value==ue.join("");case"getemptymask":return te=e(i.el),r=te.data("_inputmask").maskset,a=te.data("_inputmask").opts,$();case"remove":var fe=i.el;te=e(fe),r=te.data("_inputmask").maskset,a=te.data("_inputmask").opts,fe._valueSet(T(te)),te.unbind(".inputmask"),te.removeData("_inputmask");var de;Object.getOwnPropertyDescriptor&&(de=Object.getOwnPropertyDescriptor(fe,"value")),de&&de.get?fe._valueGet&&Object.defineProperty(fe,"value",{get:fe._valueGet,set:fe._valueSet}):document.__lookupGetter__&&fe.__lookupGetter__("value")&&fe._valueGet&&(fe.__defineGetter__("value",fe._valueGet),fe.__defineSetter__("value",fe._valueSet));try{delete fe._valueGet,delete fe._valueSet}catch(e){fe._valueGet=void 0,fe._valueSet=void 0}break;case"getmetadata":if(te=e(i.el),r=te.data("_inputmask").maskset,a=te.data("_inputmask").opts,e.isArray(r.metadata)){for(var he,ve=d(),me=ve;me>=0;me--)if(p().validPositions[me]&&void 0!=p().validPositions[me].alternation){he=p().validPositions[me].alternation;break}return void 0!=he?r.metadata[p().validPositions[ve].locator[he]]:r.metadata[0]}return r.metadata}}if(void 0===e.fn.inputmask){var o=navigator.userAgent,s=null!==o.match(new RegExp("iphone","i")),l=(o.match(new RegExp("android.*safari.*","i")),null!==o.match(new RegExp("android.*chrome.*","i"))),u=null!==o.match(new RegExp("android.*firefox.*","i")),c=(/Kindle/i.test(o)||/Silk/i.test(o)||/KFTT/i.test(o)||/KFOT/i.test(o)||/KFJWA/i.test(o)||/KFJWI/i.test(o)||/KFSOWI/i.test(o)||/KFTHWA/i.test(o)||/KFTHWI/i.test(o)||/KFAPWA/i.test(o)||/KFAPWI/i.test(o),t("paste")?"paste":t("input")?"input":"propertychange");e.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:e.noop,onincomplete:e.noop,oncleared:e.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},alias:null,onKeyDown:e.noop,onBeforeMask:void 0,onBeforePaste:void 0,onBeforeWrite:void 0,onUnMask:void 0,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:e.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",radixFocus:!1,nojumps:!1,nojumpsThreshold:0,keepStatic:void 0,definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1}},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:void 0,canClearPosition:e.noop,postValidation:void 0},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},masksCache:{},escapeRegex:function(e){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"];return e.replace(new RegExp("(\\"+t.join("|\\")+")","gim"),"\\$1")},format:function(t,n,o){var s=e.extend(!0,{},e.inputmask.defaults,n);return i(s.alias,n,s),a({action:"format",value:t,metadata:o},r(s,n&&void 0!==n.definitions),s)},isValid:function(t,n){var o=e.extend(!0,{},e.inputmask.defaults,n);return i(o.alias,n,o),a({action:"isValid",value:t},r(o,n&&void 0!==n.definitions),o)}},e.fn.inputmask=function(t,n){function o(t,n,r){var a=e(t);a.data("inputmask-alias")&&i(a.data("inputmask-alias"),e.extend(!0,{},n),n);for(var o in n){var s=a.data("inputmask-"+o.toLowerCase());void 0!=s&&("mask"==o&&0==s.indexOf("[")?(n[o]=s.replace(/[\s[\]]/g,"").split("','"),n[o][0]=n[o][0].replace("'",""),n[o][n[o].length-1]=n[o][n[o].length-1].replace("'","")):n[o]="boolean"==typeof s?s:s.toString(),r&&(r[o]=n[o]))}return n}var s,l=e.extend(!0,{},e.inputmask.defaults,n);if("string"==typeof t)switch(t){case"mask":return i(l.alias,n,l),this.each(function(){return o(this,l),void 0==(s=r(l,n&&void 0!==n.definitions))?this:void a({action:"mask",el:this},s,l)});case"unmaskedvalue":var u=e(this);return u.data("_inputmask")?a({action:"unmaskedvalue",$input:u}):u.val();case"remove":return this.each(function(){e(this).data("_inputmask")&&a({action:"remove",el:this})});case"getemptymask":return this.data("_inputmask")?a({action:"getemptymask",el:this}):"";case"hasMaskedValue":return!!this.data("_inputmask")&&!this.data("_inputmask").opts.autoUnmask;case"isComplete":return!this.data("_inputmask")||a({action:"isComplete",buffer:this[0]._valueGet().split(""),el:this});case"getmetadata":return this.data("_inputmask")?a({action:"getmetadata",el:this}):void 0;default:return i(l.alias,n,l),i(t,n,l)||(l.mask=t),this.each(function(){return o(this,l),void 0==(s=r(l,n&&void 0!==n.definitions))?this:void a({action:"mask",el:this},s,l)})}else{if("object"==typeof t)return l=e.extend(!0,{},e.inputmask.defaults,t),i(l.alias,t,l),this.each(function(){return o(this,l),void 0==(s=r(l,t&&void 0!==t.definitions))?this:void a({action:"mask",el:this},s,l)});if(void 0==t)return this.each(function(){var t=e(this).attr("data-inputmask");if(t&&""!=t)try{t=t.replace(new RegExp("'","g"),'"');var r=e.parseJSON("{"+t+"}");e.extend(!0,r,n),l=e.extend(!0,{},e.inputmask.defaults,r),i((l=o(this,l)).alias,r,l),l.alias=void 0,e(this).inputmask("mask",l)}catch(e){}if(e(this).attr("data-inputmask-mask")||e(this).attr("data-inputmask-alias")){l=e.extend(!0,{},e.inputmask.defaults,{});var a={};i((l=o(this,l,a)).alias,a,l),l.alias=void 0,e(this).inputmask("mask",l)}})}}}return e.fn.inputmask}),function(e){"function"==typeof define&&define.amd?define(["jquery","./jquery.inputmask"],e):e(jQuery)}(function(e){return e.extend(e.inputmask.defaults.definitions,{A:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,casing:"upper"},"#":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,casing:"upper"}}),e.extend(e.inputmask.defaults.aliases,{url:{mask:"ir",placeholder:"",separator:"",defaultPrefix:"http://",regex:{urlpre1:new RegExp("[fh]"),urlpre2:new RegExp("(ft|ht)"),urlpre3:new RegExp("(ftp|htt)"),urlpre4:new RegExp("(ftp:|http|ftps)"),urlpre5:new RegExp("(ftp:/|ftps:|http:|https)"),urlpre6:new RegExp("(ftp://|ftps:/|http:/|https:)"),urlpre7:new RegExp("(ftp://|ftps://|http://|https:/)"),urlpre8:new RegExp("(ftp://|ftps://|http://|https://)")},definitions:{i:{validator:function(){return!0},cardinality:8,prevalidator:function(){for(var e=[],t=0;8>t;t++)e[t]=function(){var e=t;return{validator:function(t,n,i,r,a){if(a.regex["urlpre"+(e+1)]){var o,s=t;e+1-t.length>0&&(s=n.buffer.join("").substring(0,e+1-t.length)+""+s);var l=a.regex["urlpre"+(e+1)].test(s);if(!r&&!l){for(i-=e,o=0;o<a.defaultPrefix.length;o++)n.buffer[i]=a.defaultPrefix[o],i++;for(o=0;o<s.length-1;o++)n.buffer[i]=s[o],i++;return{pos:i}}return l}return!1},cardinality:e}}();return e}()},r:{validator:".",cardinality:50}},insertMode:!1,autoUnmask:!1},ip:{mask:"i[i[i]].i[i[i]].i[i[i]].i[i[i]]",definitions:{i:{validator:function(e,t,n){return n-1>-1&&"."!=t.buffer[n-1]?(e=t.buffer[n-1]+e,e=n-2>-1&&"."!=t.buffer[n-2]?t.buffer[n-2]+e:"0"+e):e="00"+e,new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]").test(e)},cardinality:1}}},email:{mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,64}]@*{1,64}[.*{2,64}][.*{2,6}][.*{1,2}]",greedy:!1,onBeforePaste:function(e){return(e=e.toLowerCase()).replace("mailto:","")},definitions:{"*":{validator:"[0-9A-Za-z!#$%&'*+/=?^_`{|}~-]",cardinality:1,casing:"lower"}}}}),e.fn.inputmask});var firstStepController;firstStepController=function(){function e(e,t,n,i,r,a,o,s,l){this.$http=e,this.$scope=t,this.$rootScope=n,this.$sce=i,this.$window=r,this.$element=a,this.$sceDelegate=o,this.$filter=s,this.$timeout=l,this.$scope.amount=0,this.$scope.defAims={21:"Деньги до зарплаты",22:"Деньги после зарплаты",23:"Деньги до и после зарплаты"},this.val_range={min:200,max:5e4},$(function(e){return function(){return e.$iElement=$(e.$element),e.init()}}(this))}return e.prototype.card_hover=function(e,t){return this.$scope.cards_first.card_hover="mouseover"===e.type?t:""},e.prototype.chgAmount=function(e,t){return t?this.$timeout(function(t){return function(){var n;return(n=t.$iElement.find("[name='amount']")).length&&(n=angular.element(n)),"function"==typeof n.val&&n.val(e),"function"==typeof n.triggerHandler?n.triggerHandler("change"):void 0}}(this)):this.rangeElement.data("module-amountrange").set.value(e)},e.prototype.update=function(){return this.$iElement.find(".ui.dropdown").dropdown(),this.rangeElement=this.$iElement.find(".ui.range").range({min:this.val_range.min,max:this.val_range.max,start:5e3,step:100,smooth:!0,name:"AmountRange",namespace:"amountrange",onChange:function(e){return function(t,n){return e.$timeout(function(){var n;return(n=e.$iElement.find("[name='amount']")).length&&(n=angular.element(n)),"function"==typeof n.val&&n.val(t),"function"==typeof n.triggerHandler?n.triggerHandler("change"):void 0})}}(this)}),$(this.$element).find("form").form({inline:!0,on:"blur",fields:{aims:{identifier:"aims",rules:[{type:"empty",message:"Выберите цель кредита"}]},amount:{identifier:"amount",rules:[{type:"integer[200..50000]",prompt:"Сумма кредита должна быть от 200 до 50 000 грн."}]}},onSuccess:function(e){return function(t,n){return e.$scope.main.loading=!0,e.$scope.main.currentStep=2,!1}}(this)}),this.$scope.main.loading=!1},e.prototype.init=function(){var e,t;return e={data:"aims"},t=this.$sceDelegate.trustAs(this.$sce.RESOURCE_URL,this.$rootScope.settings.apiUrl),this.$http.jsonp(t,{params:e}).then(function(e){return function(t){return"success"===(t=t.data).result&&"aims"===t.listId?e.$scope.dataAims=t.data:e.$scope.dataAims=e.$scope.defAims,e.update()}}(this),function(e){return function(t,n,i,r){return e.$scope.dataAims=e.$scope.defAims,e.update()}}(this))},e}();var firstCardsStepController;firstCardsStepController=function(){return function(e,t,n,i,r,a){this.$http=e,this.$scope=t,this.$sce=n,this.$window=i,this.$element=r,this.$attrs=a,this.card_hover="",this.content=[],this.content.push({icon:"wrench",title:"У каждого банка своя специализация",text:this.$sce.trustAsHtml("Зная, на что пойдут деньги, мы сможем лучше подобрать вам банк. Мы знаем, какие банки дают кредиты на ремонт, какие - на покупки.")}),this.content.push({icon:"wallet",title:"Меньше сумма — выше шансы",text:this.$sce.trustAsHtml("Чем выше сумма, тем больше требований. Банк может поинтересоваться недвижимостью, автомобилем, или попросить загранпаспорт, чтобы увидеть как часто вы путешествуете. <br /><br /> Получить 100 000 гривен без залога почти нереально. Выберите для себя оптимальную сумму.")})}}();var twoStepController;twoStepController=function(){function e(e,t,n,i,r,a,o,s,l){this.$http=e,this.$scope=t,this.$rootScope=n,this.$sce=i,this.$window=r,this.$element=a,this.$sceDelegate=o,this.$filter=s,this.$timeout=l,this.form_data={},this.$scope.$watch(function(e){return function(t,n,i){return e.$scope.main.currentStep}}(this),function(e){return function(t,n,i){return 2===t&&e.init(),!1}}(this))}return e.prototype.card_hover=function(e,t){return this.$scope.cards_two.card_hover="mouseover"===e.type?t:""},e.prototype.init=function(){var e,t;return t=new Date,(e=new Date).setFullYear(e.getFullYear()-18),t.setFullYear(t.getFullYear()-90),this.initCal=function(n){return function(){var i;return(i=$(".ui.calendar")).length?(i.calendar({type:"date",firstDayOfWeek:1,ampm:!1,minDate:t,maxDate:e,disableMinute:!0,className:{prevIcon:"open icon left",nextIcon:"open icon right"},text:{days:["В","П","В","С","Ч","П","С"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Сегодня",now:"Сейчас",am:"AM",pm:"PM"},onChange:function(e,t,i){if(n.$scope.form_two.form_data.bday=t,!n.$scope.$$phase)return n.$scope.$apply()},formatter:{date:function(e,t){return e?e.toLocaleString().split(",")[0]:""}}}),n.$scope.form_two.form_data.calObj=i,window.__calend=i,n.$scope.main.loading=!1,n.initMask()):n.$timeout(function(){return n.initCal()},1e3)}}(this),this.$timeout(function(e){return function(){return e.initCal()}}(this))},e.prototype.initMask=function(){var e;return e={mask:"+38 (\\099) 999-99-99",greedy:!1},$('input[name="phone"]').inputmask(e),this.$window.dispatchEvent(this.$rootScope.settings.events.eventWidgetStep2),$(this.$element).find("form").form({inline:!0,on:"blur",fields:{fullname:{identifier:"fullname",rules:[{type:"regExp[/^[а-яёієыї\\-\\']*\\s[а-яёієыї\\-\\']*\\s[а-яёієыї\\-\\']*$/i]",prompt:"Введены недопустимые символы"}]},fullname:{identifier:"fullname",rules:[{type:"regExp[/^[а-яёієыї\\-\\']*\\s[а-яёієыї\\-\\']*\\s[а-яёієыї\\-\\']*$/i]",prompt:"Введены недопустимые символы"}]},phone:{identifier:"phone",rules:[{type:"empty",prompt:"Неправильный номер телефона"}]},aggree:{identifier:"aggree",rules:[{type:"checked",prompt:"Так мы не сможем обработать Ваш запрос"}]}},onSuccess:function(e){return function(t,n){return e.$scope.main.loading=!0,e.$scope.main.currentStep=3,console.log(t,n),!1}}(this)})},e}();var twoCardsStepController;twoCardsStepController=function(){return function(e,t,n,i,r,a){this.$http=e,this.$scope=t,this.$sce=n,this.$window=i,this.$element=r,this.$attrs=a,this.card_hover="",this.content=[],this.content.push({icon:"user",title:"Получите +15%",text:this.$sce.trustAsHtml("к вероятности одобрения кредита, заполнив фамилию, имя и отчество.")}),this.content.push({icon:"smartphone-text",title:"Зачем давать номер телефона?",text:this.$sce.trustAsHtml("Для связи. Представитель банка позвонит вам, чтобы обсудить условия кредита.")}),this.content.push({icon:"adult",title:"А возраст им зачем?",text:this.$sce.trustAsHtml("Перед выдачей денег ваш возраст проверят по паспорту. Если вам не исполнилось 18, то шансов получить кредит нет.")})}}();var threeStepController;threeStepController=function(){function e(e,t,n,i,r,a,o,s,l){this.$http=e,this.$scope=t,this.$rootScope=n,this.$sce=i,this.$window=r,this.$element=a,this.$sceDelegate=o,this.$filter=s,this.$timeout=l,this.form_data={},this.$scope.dataEmployments=[],this.$scope.$watch(function(e){return function(t,n,i){return e.$scope.main.currentStep}}(this),function(e){return function(t,n,i){return 3===t&&e.init(),!1}}(this))}return e.prototype.card_hover=function(e,t){return this.$scope.cards_three.card_hover="mouseover"===e.type?t:""},e.prototype.init=function(){return this.$scope.main.loading=!1,this.initMask()},e.prototype.initMask=function(){return this.$window.dispatchEvent(this.$rootScope.settings.events.eventWidgetStep3)},e}();var threeCardsStepController;threeCardsStepController=function(){return function(e,t,n,i,r,a){this.$http=e,this.$scope=t,this.$sce=n,this.$window=i,this.$element=r,this.$attrs=a,this.card_hover="",this.content=[],this.content.push({icon:"marker-map",title:"Подберём банки в вашем городе",text:this.$sce.trustAsHtml("Мы предложим кредиты в банках, у которых есть отделения в вашем городе или в ближайшем райцентре, если вы живёте в посёлке или селе. Украинские банки не дают кредиты жителям зоны АТО и Крыма.")}),this.content.push({icon:"code",title:"Для чего банку ваш ИНН",text:this.$sce.trustAsHtml("Finance.ua соблюдает Закон Украины “О защите персональных данных”. Кроме банков и кредитных компаний ваш ИНН никто не получит. Банку индивидуальный налоговый номер нужен для проверки клиента. С помощью ИНН банк может узнать кредитную историю заёмщика, или проверить выплаты в пенсионный фонд.")})}}(),angular.module("finance-directives",["ngMask"]).directive("firstStep",function(){return{restrict:"E",templateUrl:"template/form_step1.html",controller:["$http","$scope","$rootScope","$sce","$window","$element","$sceDelegate","$filter","$timeout",firstStepController],controllerAs:"form_first"}}).directive("twoStep",function(){return{restrict:"E",templateUrl:"template/form_step2.html",controller:["$http","$scope","$rootScope","$sce","$window","$element","$sceDelegate","$filter","$timeout",twoStepController],controllerAs:"form_two"}}).directive("threeStep",function(){return{restrict:"E",templateUrl:"template/form_step3.html",controller:["$http","$scope","$rootScope","$sce","$window","$element","$sceDelegate","$filter","$timeout",threeStepController],controllerAs:"form_three"}}).directive("firstCardsStep",function(){return{restrict:"E",templateUrl:"template/cards_step1.html",controller:["$http","$scope","$sce","$window","$element","$attrs",firstCardsStepController],controllerAs:"cards_first"}}).directive("twoCardsStep",function(){return{restrict:"E",templateUrl:"template/cards_step2.html",controller:["$http","$scope","$sce","$window","$element","$attrs",twoCardsStepController],controllerAs:"cards_two"}}).directive("threeCardsStep",function(){return{restrict:"E",templateUrl:"template/cards_step3.html",controller:["$http","$scope","$sce","$window","$element","$attrs",threeCardsStepController],controllerAs:"cards_three"}});var financeAppController;financeAppController=function(){function e(e,t,n,i){this.$http=e,this.$scope=t,this.$storage=n,this.$location=i,this.loading=!0,this.form_data={aims:0,amount:0},this.currentStep=1,this.maxStep=3,this.$scope.$on("$locationChangeStart",function(e){return function(t,n,i,r,a){return console.log(t,n,i,r,a,e.$location.path())}}(this)),$(function(){return $(".ui.sidebar").sidebar("attach events",".toc.item").sidebar("setting","dimPage",!0).sidebar("setting","transition","push").sidebar("setting","useLegacy",!0),$(".ui.accordion").accordion(),$(".main.container").visibility({once:!1,onOffScreen:function(e){return $(".menu .computer-only .ui.button").transition("scale in")},onOnScreen:function(e){var t;if(!(t=$(".menu .computer-only .ui.button")).hasClass("hidden"))return t.transition("scale out")}})})}return e.prototype.titleStep=function(){return"Шаг "+this.currentStep+" из "+this.maxStep},e}(),angular.module("financeApp",["finance-directives","ngRoute","ngSanitize","ngStorage"]).config(["$sceDelegateProvider","$routeProvider","$locationProvider",function(e,t,n){return e.resourceUrlWhitelist(["self","http://credits*.finance.ua/api/**"]),n.html5Mode(!0)}]).run(["$rootScope","$http",function(e,t){var n;return t.defaults.useXDomain=!0,t.defaults.headers.common.Accept="application/json",t.defaults.headers.common["Content-Type"]="application/json; charset=UTF-8",t.defaults.headers.common["Access-Control-Allow-Origin"]="*",n={detail:{time:new Date},bubbles:!0,cancelable:!0},e.settings={apiUrl:"http://credits.finance.ua/api/list",stateApp:{state1:"s1",state1:"s2",state1:"s3",request:"request"},events:{eventWidgetStep1:new CustomEvent("eventWidgetStep2",n),eventWidgetStep2:new CustomEvent("eventWidgetStep2",n),eventWidgetStep3:new CustomEvent("eventWidgetStep3",n),eventWidgetSuccess:new CustomEvent("eventWidgetSuccess",n),eventWidgetError:new CustomEvent("eventWidgetError",n)}}}]).controller("financeAppController",["$http","$scope","$sessionStorage","$location",financeAppController]),angular.element(window).on("eventWidgetStep2",function(e){return console.log(e)}),$(window).on("eventWidgetStep2",function(e){return console.log("Jquery",e)}),window.addEventListener("eventWidgetStep2",function(e){return console.log("Native",e)});